#!/usr/bin/env node
'use strict';const a8_0x295e24=a8_0x26d7;(function(_0x3fb191,_0x16b655){const _0x596cf6=a8_0x26d7,_0x4a57f0=_0x3fb191();while(!![]){try{const _0x4c9617=parseInt(_0x596cf6(0x10b))/0x1*(parseInt(_0x596cf6(0xf0))/0x2)+-parseInt(_0x596cf6(0xdd))/0x3+parseInt(_0x596cf6(0xe9))/0x4*(-parseInt(_0x596cf6(0x10d))/0x5)+-parseInt(_0x596cf6(0xfe))/0x6*(parseInt(_0x596cf6(0x122))/0x7)+parseInt(_0x596cf6(0xfc))/0x8+parseInt(_0x596cf6(0x105))/0x9*(parseInt(_0x596cf6(0xaa))/0xa)+parseInt(_0x596cf6(0xca))/0xb*(parseInt(_0x596cf6(0xa4))/0xc);if(_0x4c9617===_0x16b655)break;else _0x4a57f0['push'](_0x4a57f0['shift']());}catch(_0x48adb8){_0x4a57f0['push'](_0x4a57f0['shift']());}}}(a8_0x3c64,0xa684f));const fs=require('fs'),path=require(a8_0x295e24(0xda)),{spawn}=require(a8_0x295e24(0xcf)),logger=require(a8_0x295e24(0xba))[a8_0x295e24(0x10e)],{default:BrowserStackSetup}=require(a8_0x295e24(0xc6)),helper=require(a8_0x295e24(0xeb)),constants=require(a8_0x295e24(0x125)),getUserJestConfigs=(_0x5df59c,_0x4cf26e)=>{const _0x34876a=a8_0x295e24,_0x4a56dd={'NUllX':function(_0x5530cf,_0x2c3df7){return _0x5530cf!==_0x2c3df7;},'AHMBY':_0x34876a(0xbf),'JBSMP':'RUpeQ','eybXj':function(_0x50dbec,_0x202b9b){return _0x50dbec(_0x202b9b);},'lwsvF':function(_0x5d6460,_0x34f597){return _0x5d6460||_0x34f597;},'liNLG':_0x34876a(0xd8)},_0x487ae7=_0x4cf26e['findIndex'](_0x15001f=>_0x15001f==_0x34876a(0xb7));if(!helper['isUndefined'](_0x5df59c[_0x34876a(0x10c)])){if(_0x4a56dd['NUllX'](_0x4a56dd['AHMBY'],_0x4a56dd[_0x34876a(0xf8)])){logger['info']('Getting\x20your\x20jest\x20configs\x20from\x20'+_0x5df59c[_0x34876a(0x10c)]);const _0x1497f8=_0x4a56dd[_0x34876a(0x117)](require,path[_0x34876a(0xe2)](process[_0x34876a(0xe7)](),_0x5df59c[_0x34876a(0x10c)]));return _0x4cf26e['splice'](_0x487ae7,0x2),_0x4a56dd[_0x34876a(0x11f)](_0x1497f8,{});}else{_0x2dfefc=_0x15144f[_0x34876a(0xad)](_0x1f8b56);try{_0x577316=_0x54d279[_0x34876a(0x11e)](_0x302476);}catch(_0x2c5e4e){_0x5ce05e['debug'](_0x34876a(0xa1)+_0x37d24a+',\x20'+_0x49a18e+_0x34876a(0xe6)+_0x2c5e4e);}_0x301777['unlinkSync'](_0x237e97);}}return logger['info'](_0x34876a(0xc3)),_0x4a56dd[_0x34876a(0x117)](require,path['join'](process['cwd'](),_0x4a56dd[_0x34876a(0x104)]))['jest']||{};},getSerial=(_0x5d1022,_0x553929)=>{const _0xacb20e=a8_0x295e24,_0x3cb614={};_0x3cb614[_0xacb20e(0xf4)]=_0xacb20e(0x103),_0x3cb614[_0xacb20e(0xc2)]=function(_0x7366a5,_0x2549bb){return _0x7366a5>_0x2549bb;},_0x3cb614['JAZRM']=function(_0x2aa0fc,_0x396d78){return _0x2aa0fc>_0x396d78;},_0x3cb614[_0xacb20e(0x9c)]='false',_0x3cb614['BfKYO']=function(_0x27b9e8,_0x62a4dc){return _0x27b9e8>_0x62a4dc;},_0x3cb614[_0xacb20e(0xea)]=function(_0x18157e,_0x373a5b){return _0x18157e>_0x373a5b;},_0x3cb614[_0xacb20e(0xd2)]=function(_0x4bad5c,_0x35a0a0){return _0x4bad5c===_0x35a0a0;},_0x3cb614[_0xacb20e(0xff)]=_0xacb20e(0x11c),_0x3cb614['zjCkf']=_0xacb20e(0xf5);const _0x28ec2e=_0x3cb614;let _0x1b367b=_0x28ec2e['pSEaT'];if(_0x28ec2e[_0xacb20e(0x114)](_0x5d1022[_0xacb20e(0x108)],0x1)&&(!_0x553929[_0xacb20e(0xf7)]&&(helper[_0xacb20e(0xce)](_0x553929[_0xacb20e(0xcd)])||_0x28ec2e[_0xacb20e(0xea)](_0x553929['maxWorkers'],0x1)))){if(_0x28ec2e['xDDlp'](_0x28ec2e[_0xacb20e(0xff)],_0x28ec2e['zjCkf'])){let _0x528221=_0x28ec2e[_0xacb20e(0xf4)];return _0x28ec2e['eDkTw'](_0x4c8952[_0xacb20e(0x108)],0x1)&&(!_0x26bfdc[_0xacb20e(0xf7)]&&(_0x799594[_0xacb20e(0xce)](_0xf5db2e[_0xacb20e(0xcd)])||_0x28ec2e['JAZRM'](_0x21f9f2['maxWorkers'],0x1)))&&(_0x528221=_0x28ec2e[_0xacb20e(0x9c)]),_0x528221;}else _0x1b367b=_0x28ec2e['XGcvD'];}return _0x1b367b;},getMaxWorkers=(_0x350019,_0x43dff1)=>{const _0x362181=a8_0x295e24,_0x15a7c6={'pNExD':function(_0x4c15c3,_0x14e98f){return _0x4c15c3(_0x14e98f);},'aIQmm':function(_0x8251da,_0x35c997){return _0x8251da||_0x35c997;},'FdQgJ':function(_0x5b189a,_0x12db5a){return _0x5b189a===_0x12db5a;},'DZoHe':_0x362181(0xc1),'GiRew':function(_0x38eca1,_0x337490){return _0x38eca1===_0x337490;},'IuHWj':_0x362181(0xa2),'bUmwN':_0x362181(0x11b)};let _0x6b25b6=0x1;if(!helper[_0x362181(0xce)](_0x43dff1[_0x362181(0xd1)])){if(_0x15a7c6['FdQgJ'](_0x15a7c6[_0x362181(0x126)],_0x15a7c6[_0x362181(0x126)]))_0x6b25b6=_0x15a7c6[_0x362181(0xdb)](parseInt,_0x43dff1[_0x362181(0xd1)]);else{_0x34615d[_0x362181(0xac)](_0x362181(0xcb)+_0x55464a[_0x362181(0x10c)]);const _0x15dbce=_0x15a7c6[_0x362181(0xdb)](_0x38f03b,_0x5a7c76[_0x362181(0xe2)](_0x351320['cwd'](),_0x5bfd7a[_0x362181(0x10c)]));return _0xf14994[_0x362181(0x116)](_0x26efbc,0x2),_0x15a7c6[_0x362181(0xb0)](_0x15dbce,{});}}else!helper[_0x362181(0xce)](_0x350019[_0x362181(0xcd)])&&(_0x15a7c6['GiRew'](_0x15a7c6[_0x362181(0xa0)],_0x15a7c6['bUmwN'])?_0x590013=_0xe09478[_0x362181(0x11e)](_0x1018aa):_0x6b25b6=_0x350019[_0x362181(0xcd)]);return _0x6b25b6;};async function run(_0x481f5c,_0x32bfd8){const _0x1d2ecb=a8_0x295e24,_0x2c34ce={'IGmwX':'jest','MYXJf':function(_0x3f47cb,_0x13557b){return _0x3f47cb!==_0x13557b;},'Sivlg':_0x1d2ecb(0xb4),'hLQUl':_0x1d2ecb(0x10f),'ieSmI':function(_0x4805b5,_0x351ee6){return _0x4805b5(_0x351ee6);},'fLwdr':function(_0x459a12,_0xd3bbda){return _0x459a12||_0xd3bbda;},'IYQWb':_0x1d2ecb(0xd8),'flLEi':function(_0x3d3dd9,_0x2167e3){return _0x3d3dd9===_0x2167e3;},'ZYpqN':_0x1d2ecb(0xe0),'DrPVk':_0x1d2ecb(0xd4),'tESSv':_0x1d2ecb(0x109),'fBgik':_0x1d2ecb(0xa5),'ykDWb':function(_0x32fa94,_0xbaf86a){return _0x32fa94!==_0xbaf86a;},'DmnBW':_0x1d2ecb(0xb5),'qaRyz':function(_0x1620ff,_0x3c7675,_0x1d1009){return _0x1620ff(_0x3c7675,_0x1d1009);},'JnGNZ':_0x1d2ecb(0xcc),'TrcgV':function(_0x5c3ef2,_0x3d69f6,_0x4a756d){return _0x5c3ef2(_0x3d69f6,_0x4a756d);},'iHcmE':function(_0xc67ed3,_0x2f3936){return _0xc67ed3*_0x2f3936;},'LXBAJ':'jest_browserstack.config.js','fsRTN':_0x1d2ecb(0xa7),'JTteK':_0x1d2ecb(0xbb),'yYmRM':_0x1d2ecb(0xc9),'bpxXZ':function(_0x420413,_0x306819,_0x54f23f,_0x47a327){return _0x420413(_0x306819,_0x54f23f,_0x47a327);},'LngAI':_0x1d2ecb(0xbe),'VnTtB':_0x1d2ecb(0xb7),'ohaoF':_0x1d2ecb(0x101),'EMaKD':_0x1d2ecb(0xf9)},_0x5ad5a9=new BrowserStackSetup(_0x481f5c,_0x2c34ce[_0x1d2ecb(0x115)]);await _0x5ad5a9[_0x1d2ecb(0xae)](),await helper[_0x1d2ecb(0xa3)](_0x5ad5a9[_0x1d2ecb(0x10c)]);if(!_0x5ad5a9['config'])return;const _0x30b24f=_0x2c34ce[_0x1d2ecb(0xc7)](getUserJestConfigs,_0x481f5c,_0x32bfd8);logger[_0x1d2ecb(0xac)](_0x2c34ce[_0x1d2ecb(0xf3)]);const _0x11f7ea={..._0x30b24f},_0x277a2f=_0x11f7ea;_0x277a2f[_0x1d2ecb(0x118)]={'server':helper[_0x1d2ecb(0xe5)](_0x5ad5a9['config']),'environment':_0x30b24f[_0x1d2ecb(0xfb)]};let _0x2a7fc3=helper['useW3C'](_0x5ad5a9[_0x1d2ecb(0x10c)]);const _0xce01f2=[];_0x5ad5a9['config'][_0x1d2ecb(0xe1)][_0x1d2ecb(0xef)]((_0x52c645,_0x27f1db)=>{const _0x16f597=_0x1d2ecb,_0x437fd0={};_0x437fd0['naxxY']=_0x2c34ce[_0x16f597(0x115)];const _0x40332e=_0x437fd0;if(_0x2c34ce[_0x16f597(0x100)](_0x2c34ce['Sivlg'],_0x2c34ce[_0x16f597(0xe8)])){if(_0x2a7fc3)_0xce01f2['push'](helper[_0x16f597(0x111)](_0x5ad5a9['config'],_0x2c34ce[_0x16f597(0x115)],_0x27f1db));else _0xce01f2[_0x16f597(0xd5)](helper[_0x16f597(0xdf)](_0x5ad5a9[_0x16f597(0x10c)],_0x2c34ce[_0x16f597(0x115)],_0x27f1db));}else{if(_0x1d6887)_0x399e1[_0x16f597(0xd5)](_0x1dac2[_0x16f597(0x111)](_0xcbc20b['config'],_0x40332e[_0x16f597(0xf2)],_0x1e7558));else _0x2a21ac['push'](_0x12cf95[_0x16f597(0xdf)](_0x36b692['config'],_0x40332e[_0x16f597(0xf2)],_0x2ad6bf));}}),_0x277a2f[_0x1d2ecb(0x118)][_0x1d2ecb(0x11d)]=_0xce01f2,_0x277a2f[_0x1d2ecb(0x118)][_0x1d2ecb(0x9e)]=_0x2c34ce[_0x1d2ecb(0xc7)](getSerial,_0xce01f2,_0x481f5c),_0x277a2f[_0x1d2ecb(0x118)][_0x1d2ecb(0xb9)]=_0x2c34ce[_0x1d2ecb(0x121)](getMaxWorkers,_0x481f5c,_0x5ad5a9[_0x1d2ecb(0x10c)]),_0x277a2f[_0x1d2ecb(0x118)][_0x1d2ecb(0xfa)]=_0x5ad5a9[_0x1d2ecb(0x10c)][_0x1d2ecb(0xfa)],_0x277a2f[_0x1d2ecb(0x118)]['timeout__']=_0x2c34ce[_0x1d2ecb(0xa6)](_0x481f5c[_0x1d2ecb(0xc8)],0x1)||0x1388,_0x277a2f['testEnvironmentOptions'][_0x1d2ecb(0xc5)]=_0x5ad5a9[_0x1d2ecb(0x10c)][_0x1d2ecb(0xb3)]['skipSessionName'],_0x277a2f[_0x1d2ecb(0x118)][_0x1d2ecb(0x107)]=config[_0x1d2ecb(0x113)],_0x277a2f[_0x1d2ecb(0x118)][_0x1d2ecb(0xd9)]=_0x5ad5a9[_0x1d2ecb(0x10c)][_0x1d2ecb(0xd9)];const _0x2e44f9=_0x2c34ce['LXBAJ'],_0x84d67c=path[_0x1d2ecb(0xe2)](__dirname,_0x2c34ce[_0x1d2ecb(0xb1)]),_0x2e4623=__dirname+'/customTestRunner.js',_0x3eaaf4=__dirname+_0x1d2ecb(0xa9);_0x277a2f['testEnvironment']=__dirname+_0x1d2ecb(0xb6),_0x277a2f['runner']=_0x2e4623,_0x277a2f[_0x1d2ecb(0xb8)]=[__dirname+_0x1d2ecb(0xaf)],_0x277a2f[_0x1d2ecb(0xee)]=[__dirname+'/test_before.setup.js'],_0x277a2f[_0x1d2ecb(0xe3)]=_0x277a2f[_0x1d2ecb(0xe3)]||[_0x2c34ce[_0x1d2ecb(0x112)]];let _0x8f99ff=fs[_0x1d2ecb(0xad)](_0x3eaaf4);fs[_0x1d2ecb(0x123)](_0x277a2f['runner'],_0x1d2ecb(0xd7)+_0x8f99ff+'\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20'+_0x5ad5a9['config'][_0x1d2ecb(0xe1)][_0x1d2ecb(0x108)]+_0x1d2ecb(0x106)),logger[_0x1d2ecb(0xac)](_0x1d2ecb(0xec)+_0x2e44f9+_0x1d2ecb(0xc4)),fs[_0x1d2ecb(0x123)](_0x2e44f9,'const\x20config='+JSON[_0x1d2ecb(0x9f)](_0x277a2f)+'\x0amodule.exports\x20=\x20config;'),logger['info'](_0x2c34ce[_0x1d2ecb(0xbd)]),helper[_0x1d2ecb(0x9b)]({},_0x32bfd8);const _0x80baa=_0x2c34ce[_0x1d2ecb(0x11a)](spawn,/^win/[_0x1d2ecb(0x10a)](process[_0x1d2ecb(0x102)])?_0x2c34ce['LngAI']:_0x2c34ce[_0x1d2ecb(0x115)],[_0x2c34ce[_0x1d2ecb(0x119)],_0x2e44f9,..._0x32bfd8[_0x1d2ecb(0xa8)](0x1)],{'stdio':_0x2c34ce[_0x1d2ecb(0xe4)]});_0x80baa['on'](_0x2c34ce['EMaKD'],async _0x1c0ee6=>{const _0x504a9c=_0x1d2ecb;if(_0x2c34ce['flLEi'](_0x2c34ce[_0x504a9c(0xab)],_0x2c34ce[_0x504a9c(0xab)])){process[_0x504a9c(0xbc)]=_0x1c0ee6,logger[_0x504a9c(0x9d)](_0x504a9c(0xf6)+_0x1c0ee6),logger[_0x504a9c(0xac)](_0x504a9c(0xd3)+_0x2e44f9);let _0x46e2c7=null;if(fs['existsSync'](_0x84d67c)){if(_0x2c34ce[_0x504a9c(0x100)](_0x2c34ce['DrPVk'],_0x2c34ce[_0x504a9c(0xd6)])){_0x46e2c7=fs['readFileSync'](_0x84d67c);try{_0x2c34ce[_0x504a9c(0xf1)](_0x2c34ce[_0x504a9c(0xb2)],_0x2c34ce[_0x504a9c(0xb2)])?_0x46e2c7=JSON[_0x504a9c(0x11e)](_0x46e2c7):_0x2363b6=_0x302f6b['maxWorkers'];}catch(_0x25a009){_0x2c34ce['ykDWb'](_0x2c34ce[_0x504a9c(0x120)],_0x2c34ce[_0x504a9c(0x120)])?_0x438e4e[_0x504a9c(0x9d)](_0x504a9c(0xa1)+_0xb88025+',\x20'+_0x5bba9f+_0x504a9c(0xe6)+_0x480ca4):logger['debug'](_0x504a9c(0xa1)+_0x84d67c+',\x20'+_0x46e2c7+'\x20:\x20'+_0x25a009);}fs[_0x504a9c(0xd0)](_0x84d67c);}else _0xf728c=_0x2c34ce[_0x504a9c(0x124)](_0x4005d7,_0x2c734c['parallelsPerPlatform']);}fs['unlinkSync'](_0x2e44f9),fs[_0x504a9c(0xd0)](_0x2e4623),_0x46e2c7&&(_0x5ad5a9[_0x504a9c(0xed)]=helper[_0x504a9c(0xdc)](_0x46e2c7,_0x2c34ce['IGmwX'],_0x5ad5a9)),await helper['finalExecution'](_0x5ad5a9);}else{const _0x459721=_0x39ca9e[_0x504a9c(0xde)](_0x4fa63c=>_0x4fa63c==_0x504a9c(0xb7));if(!_0x2cb541['isUndefined'](_0x5c3868[_0x504a9c(0x10c)])){_0xe88c1b[_0x504a9c(0xac)](_0x504a9c(0xcb)+_0x58aab6[_0x504a9c(0x10c)]);const _0xa5bf35=_0x2c34ce[_0x504a9c(0x124)](_0x581087,_0x777738[_0x504a9c(0xe2)](_0xf59df['cwd'](),_0x35085a[_0x504a9c(0x10c)]));return _0x35917d['splice'](_0x459721,0x2),_0x2c34ce['fLwdr'](_0xa5bf35,{});}return _0x475b2c[_0x504a9c(0xac)](_0x504a9c(0xc3)),_0x2c34ce[_0x504a9c(0x124)](_0x3980d9,_0x4f185f[_0x504a9c(0xe2)](_0x21fed9[_0x504a9c(0xe7)](),_0x2c34ce[_0x504a9c(0xfd)]))[_0x504a9c(0x110)]||{};}});}function a8_0x26d7(_0x410712,_0x1c535c){const _0x3c6470=a8_0x3c64();return a8_0x26d7=function(_0x26d75f,_0x3ef123){_0x26d75f=_0x26d75f-0x9b;let _0x21a15f=_0x3c6470[_0x26d75f];return _0x21a15f;},a8_0x26d7(_0x410712,_0x1c535c);}module[a8_0x295e24(0xc0)]=run;function a8_0x3c64(){const _0xf07355=['JnGNZ','pSEaT','FwvmB','child\x20process\x20exited\x20with\x20code\x20','runInBand','JBSMP','close','proxySettings','testEnvironment','1735232nDpeqk','IYQWb','1322016TMbSwu','PocHZ','MYXJf','inherit','platform','true','liNLG','2169pVfwSW',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','browserStackLogLevel','length','wLMNX','test','31939erzPLz','config','192500GGrjUE','winstonLogger','bZztS','jest','modifyBrowserStackW3CCaps','JTteK','logLevel','BfKYO','IGmwX','splice','eybXj','testEnvironmentOptions','VnTtB','bpxXZ','bcPvm','KTqfP','capabilities','parse','lwsvF','DmnBW','TrcgV','7XtlsEi','writeFileSync','ieSmI','../utils/constants','DZoHe','filterBrowserstackConfig','XGcvD','debug','serial__','stringify','IuHWj','Error\x20while\x20parsing\x20','KjuYs','handleApp','187176piJokj','NMnOi','iHcmE','jest_browserstack_results.json','slice','/customTestRunnerTemplate.js','11950alWvMF','ZYpqN','info','readFileSync','initialize','/jest.setup.js','aIQmm','fsRTN','fBgik','testContextOptions','YeNIs','uvObe','/customEnvironment.js','--config','setupFilesAfterEnv','parallels__','../../helpers/logger','default','exitCode','yYmRM','jest.cmd','oXIxw','exports','PPiKz','eDkTw','Getting\x20your\x20jest\x20configs\x20from\x20package.json','\x20with\x20browserstack\x20jest\x20configs','skipSessionName','../../helpers/BrowserStackSetup','qaRyz','testTimeout','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','198bUPTXc','Getting\x20your\x20jest\x20configs\x20from\x20','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','maxWorkers','isUndefined','child_process','unlinkSync','parallelsPerPlatform','xDDlp','Deleting\x20','vdORj','push','tESSv','\x0a\x20\x20\x20\x20','package.json','turboScaleUrl','path','pNExD','getErrorMessageFromResults','1730289jNdrwm','findIndex','modifyBrowserStackCaps','XtoPF','platforms','join','reporters','ohaoF','getHubUrl','\x20:\x20','cwd','hLQUl','64KxvlpS','hnZtz','../../helpers/helper','Creating\x20','errorMessage','setupFiles','forEach','82NYlkeD','flLEi','naxxY'];a8_0x3c64=function(){return _0xf07355;};return a8_0x3c64();}
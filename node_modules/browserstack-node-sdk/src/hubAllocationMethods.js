const a57_0x581dc7=a57_0x1a29;function a57_0x1a29(_0xaa303c,_0x4bc489){const _0x144417=a57_0x1444();return a57_0x1a29=function(_0x1a29d0,_0x52d570){_0x1a29d0=_0x1a29d0-0xd8;let _0xa9ebb3=_0x144417[_0x1a29d0];return _0xa9ebb3;},a57_0x1a29(_0xaa303c,_0x4bc489);}(function(_0x3041f1,_0x4381bc){const _0x4c5bea=a57_0x1a29,_0x471e71=_0x3041f1();while(!![]){try{const _0x366df2=-parseInt(_0x4c5bea(0xe9))/0x1+parseInt(_0x4c5bea(0x12d))/0x2*(parseInt(_0x4c5bea(0xdd))/0x3)+-parseInt(_0x4c5bea(0x120))/0x4+-parseInt(_0x4c5bea(0xda))/0x5*(-parseInt(_0x4c5bea(0xdc))/0x6)+-parseInt(_0x4c5bea(0x128))/0x7*(-parseInt(_0x4c5bea(0x140))/0x8)+parseInt(_0x4c5bea(0x12c))/0x9*(parseInt(_0x4c5bea(0x126))/0xa)+parseInt(_0x4c5bea(0xff))/0xb;if(_0x366df2===_0x4381bc)break;else _0x471e71['push'](_0x471e71['shift']());}catch(_0x967559){_0x471e71['push'](_0x471e71['shift']());}}}(a57_0x1444,0x33e8f));function a57_0x1444(){const _0x308bb5=['ySkmn','TuXmL','Execution\x20time\x20for\x20','707652bJyAnB','gZCnD','keys','OuGkK','pathname','ATimM','hash','lRHqK','TfIHa','\x20is:\x20','oShvn','hjVZA','CANNOT\x20ALLOCATE\x20NEAREST\x20HUB\x20-\x20','iwziT','\x20HUB\x20-\x20','HUB\x20URL\x20SET\x20TO\x20-\x20','VBOPI','DZMCu','VZgve','latency','https://','search','entries','ERROR\x20IN\x20GETTING\x20RESPONSE\x20FROM\x20NEXT\x20HUBS:\x20','util','gwsLp','debug','url','GxJar','KIiSz','PfomL','path','then','1213688oWNlfg','xhGUe','IrLMp','yqtuA','check','updateHubUrl','149260rDWWzi','GET','387009HoPjXu','yJczq','nodeRequest','parse','225adcnJF','14DaFSTG','ZvogO','yZWoz','all','rbDVK','SOOtI','fromEntries','NrOZb','Invalid\x20new\x20HUB\x20URL:\x20','hBlDy','QTKKE','format','map','rltOj','hubUrl','yBPNr','YIMzG','MuFTr','findLatency','8lJwcMi','WDzeh','WQlXF','kIDXT','FrOCe','495FpiVoW','winstonLogger','6024YPqkaD','6057eXWwuj','/wd/hub','nextHubs','cMsmB','gTyHH','Giimv','AbQyV','inYBg','NrnjQ','BTECS','NEAREST\x20HUBS:\x20','UVMwG','90253KwIjwC','vwMTF','hostname','cFjpc','next_hubs','sort','ETQwr','./helpers/helper','TIsmz','allocateHub','ERROR\x20IN\x20FINDING\x20LATENCY\x20FOR\x20','push','nlxrC','slxTO','dTaKt','mIacu','LrBhz','newHubUrl','YmHSk'];a57_0x1444=function(){return _0x308bb5;};return a57_0x1444();}const url=require(a57_0x581dc7(0x11a)),util=require(a57_0x581dc7(0x117)),helper=require(a57_0x581dc7(0xf0)),logger=require('./helpers/logger')[a57_0x581dc7(0xdb)],constants=require('./bin/utils/constants');global[a57_0x581dc7(0xfa)]='',exports['getRequestOptions']=_0x4d3035=>{const _0x269259=a57_0x581dc7,_0xc692f5={};_0xc692f5[_0x269259(0xfc)]=function(_0x4cb02f,_0x5bf855){return _0x4cb02f+_0x5bf855;},_0xc692f5[_0x269259(0x107)]=_0x269259(0x135),_0xc692f5[_0x269259(0x111)]=function(_0x5dbbf4,_0x462f5a){return _0x5dbbf4===_0x462f5a;},_0xc692f5[_0x269259(0x110)]=_0x269259(0xf7),_0xc692f5[_0x269259(0x136)]=_0x269259(0xe5);const _0x465f64=_0xc692f5;let _0x17697a=url[_0x269259(0x12b)](_0x4d3035);if(!_0x17697a[_0x269259(0xeb)]){if(_0x465f64[_0x269259(0x111)](_0x465f64[_0x269259(0x110)],_0x465f64['hBlDy'])){let _0x469cf9=_0x915d99[_0x269259(0x12b)](_0x5b1d74);if(!_0x469cf9['hostname'])throw new _0x257a2d(_0x465f64[_0x269259(0xfc)](_0x465f64[_0x269259(0x107)],_0x409cf2));return _0x469cf9[_0x269259(0x114)]=null,_0x469cf9[_0x269259(0x105)]=null,_0x469cf9['path']=_0x469cf9[_0x269259(0x103)],_0x469cf9;}else throw new Error(_0x465f64['ySkmn'](_0x465f64[_0x269259(0x107)],_0x4d3035));}return _0x17697a[_0x269259(0x114)]=null,_0x17697a[_0x269259(0x105)]=null,_0x17697a[_0x269259(0x11e)]=_0x17697a[_0x269259(0x103)],_0x17697a;},exports[a57_0x581dc7(0x125)]=_0x544f92=>{const _0x3e4cdb=a57_0x581dc7;global[_0x3e4cdb(0xfa)]=_0x544f92;},exports[a57_0x581dc7(0xf2)]=_0x2e53d7=>{const _0x154cc6=a57_0x581dc7,_0x53e648={'egbFb':function(_0x3319be,_0x139c97){return _0x3319be===_0x139c97;},'cFjpc':'LAlCE','slxTO':function(_0x5e4516,_0x361552){return _0x5e4516+_0x361552;},'yBPNr':_0x154cc6(0xde),'rltOj':function(_0x21e22c){return _0x21e22c();},'YmHSk':function(_0x3b95ed,_0xfa7551){return _0x3b95ed+_0xfa7551;},'VBOPI':'Invalid\x20new\x20HUB\x20URL:\x20','TuXmL':_0x154cc6(0x113),'PfomL':function(_0x291693){return _0x291693();},'oShvn':function(_0x335edd,_0x2b384d){return _0x335edd+_0x2b384d;},'KIiSz':function(_0x4bda9a,_0x126d61){return _0x4bda9a!==_0x126d61;},'IrLMp':_0x154cc6(0x129),'BTECS':_0x154cc6(0x13d),'gTyHH':function(_0x4aae7b,_0x15af34){return _0x4aae7b!=_0x15af34;},'kIDXT':function(_0xcd66e4,_0x4f6c44){return _0xcd66e4===_0x4f6c44;},'gZCnD':_0x154cc6(0x141),'WQlXF':function(_0x58f65d,_0x2cb357){return _0x58f65d===_0x2cb357;},'NrOZb':_0x154cc6(0xe3),'lRHqK':_0x154cc6(0x12f),'ATimM':function(_0x30fab3,_0x4513e4){return _0x30fab3===_0x4513e4;},'GxJar':_0x154cc6(0x132),'ETQwr':_0x154cc6(0x10c),'cMsmB':_0x154cc6(0xf9),'cSMdw':function(_0x1a86d7){return _0x1a86d7();}};return new Promise(async _0x40c61f=>{const _0x59fd99=_0x154cc6,_0x514627={'hjVZA':function(_0x4ccf52,_0x2bc34d){const _0x490c80=a57_0x1a29;return _0x53e648[_0x490c80(0xf6)](_0x4ccf52,_0x2bc34d);},'QTKKE':_0x53e648[_0x59fd99(0xfd)],'mIacu':_0x53e648['yBPNr'],'TIsmz':function(_0x4c0047){const _0x3d1d3b=_0x59fd99;return _0x53e648[_0x3d1d3b(0x11d)](_0x4c0047);},'xsrwd':function(_0x19ef62,_0x66fd97){return _0x53e648['oShvn'](_0x19ef62,_0x66fd97);},'UNpfu':function(_0x160550,_0x361cf7){const _0x4cc4b8=_0x59fd99;return _0x53e648[_0x4cc4b8(0x109)](_0x160550,_0x361cf7);}};if(_0x53e648[_0x59fd99(0x11c)](_0x53e648[_0x59fd99(0x122)],_0x53e648[_0x59fd99(0x122)]))_0x1de3bc[_0x59fd99(0xf4)](this[_0x59fd99(0x13f)](_0xcd10bb,_0x514627[_0x59fd99(0x10a)](_0x514627['QTKKE'],_0x37919b)));else try{if(_0x53e648['egbFb'](_0x53e648[_0x59fd99(0xe6)],_0x53e648['BTECS'])){const _0x2ad276=await this[_0x59fd99(0xdf)](_0x2e53d7);logger[_0x59fd99(0x119)](_0x59fd99(0xe7)+util[_0x59fd99(0x138)]('%j',_0x2ad276));if(_0x53e648['gTyHH'](_0x2ad276,null)&&_0x53e648[_0x59fd99(0xe1)](_0x2ad276['length'],0x0)){if(_0x53e648[_0x59fd99(0xd8)](_0x53e648['gZCnD'],_0x53e648[_0x59fd99(0x100)])){const _0x1e2d6d=[];for(const _0x50ac8e of _0x2ad276){if(_0x53e648[_0x59fd99(0x142)](_0x53e648[_0x59fd99(0x134)],_0x53e648[_0x59fd99(0x106)])){const _0x27a98e=[];for(const _0x1d9ab7 of _0x25008a){_0x27a98e[_0x59fd99(0xf4)](this[_0x59fd99(0x13f)](_0x3018c0,_0x514627['xsrwd'](_0x514627[_0x59fd99(0x137)],_0x1d9ab7)));}_0x318fde[_0x59fd99(0x130)](_0x27a98e)['then'](_0x522f5a=>{const _0x16a5ee=_0x59fd99,_0x1b28fb=_0x54527e['fromEntries'](_0x522f5a['map'](_0x3c5c86=>[_0x3c5c86[_0x16a5ee(0x13b)],_0x3c5c86['latency']])),_0x2f060d=_0x3cc8aa['fromEntries'](_0x498f2e[_0x16a5ee(0x115)](_0x1b28fb)[_0x16a5ee(0xee)](([,_0x3c182d],[,_0x413a41])=>_0x3c182d-_0x413a41)),_0x3ea073=_0x126bfd[_0x16a5ee(0x101)](_0x2f060d)[0x0];_0xf42242[_0x16a5ee(0x13b)]=_0x514627[_0x16a5ee(0x10a)](_0x3ea073,_0x514627[_0x16a5ee(0xf8)]),_0x388114[_0x16a5ee(0x119)]('HUB\x20URL\x20SET\x20TO\x20-\x20'+_0x3ea073),_0x514627[_0x16a5ee(0xf1)](_0x1ff2e0);});}else _0x1e2d6d[_0x59fd99(0xf4)](this[_0x59fd99(0x13f)](_0x2e53d7,_0x53e648[_0x59fd99(0xf6)](_0x53e648[_0x59fd99(0xfd)],_0x50ac8e)));}Promise['all'](_0x1e2d6d)[_0x59fd99(0x11f)](_0xd0b4fd=>{const _0x5efbc5=_0x59fd99;if(_0x53e648['egbFb'](_0x53e648['cFjpc'],_0x53e648[_0x5efbc5(0xec)])){const _0xce053f=Object['fromEntries'](_0xd0b4fd['map'](_0x1eba92=>[_0x1eba92['hubUrl'],_0x1eba92[_0x5efbc5(0x112)]])),_0x25fd2d=Object[_0x5efbc5(0x133)](Object[_0x5efbc5(0x115)](_0xce053f)[_0x5efbc5(0xee)](([,_0x803712],[,_0x1385a5])=>_0x803712-_0x1385a5)),_0x127284=Object[_0x5efbc5(0x101)](_0x25fd2d)[0x0];constants[_0x5efbc5(0x13b)]=_0x53e648[_0x5efbc5(0xf6)](_0x127284,_0x53e648[_0x5efbc5(0x13c)]),logger[_0x5efbc5(0x119)]('HUB\x20URL\x20SET\x20TO\x20-\x20'+_0x127284),_0x53e648[_0x5efbc5(0x13a)](_0x40c61f);}else _0x4af436[_0x5efbc5(0x119)]('CANNOT\x20ALLOCATE\x20NEAREST\x20HUB\x20-\x20'+_0x5e6878),_0x514627[_0x5efbc5(0xf1)](_0x137d64);});}else _0x53e648[_0x59fd99(0x13a)](_0x54ec80);}else{if(_0x53e648[_0x59fd99(0x104)](_0x53e648[_0x59fd99(0x11b)],_0x53e648[_0x59fd99(0xef)]))throw new _0x6419f8(_0x53e648[_0x59fd99(0xfb)](_0x53e648[_0x59fd99(0x10f)],_0x2ef5bd));else _0x53e648[_0x59fd99(0x13a)](_0x40c61f);}}else{const _0xa31cca=_0x5b0c9a[_0x59fd99(0x133)](_0x3429ca[_0x59fd99(0x139)](_0x156f66=>[_0x156f66['hubUrl'],_0x156f66[_0x59fd99(0x112)]])),_0x4c224c=_0x2da63a[_0x59fd99(0x133)](_0x3b1cea['entries'](_0xa31cca)[_0x59fd99(0xee)](([,_0x451707],[,_0x3cae70])=>_0x451707-_0x3cae70)),_0x39789a=_0x365a97['keys'](_0x4c224c)[0x0];_0x15c7af[_0x59fd99(0x13b)]=_0x514627['UNpfu'](_0x39789a,_0x514627[_0x59fd99(0xf8)]),_0x39ce54[_0x59fd99(0x119)](_0x59fd99(0x10e)+_0x39789a),_0x514627[_0x59fd99(0xf1)](_0x587276);}}catch(_0x89ec34){if(_0x53e648['kIDXT'](_0x53e648[_0x59fd99(0xe0)],_0x53e648[_0x59fd99(0xe0)]))logger[_0x59fd99(0x119)](_0x59fd99(0x10b)+_0x89ec34),_0x53e648['cSMdw'](_0x40c61f);else return _0x4d40eb[_0x59fd99(0x119)](_0x59fd99(0xf3)+_0x151531+_0x59fd99(0x10d)+_0x1f2075),{};}});},exports['findLatency']=async(_0x5ded23,_0x4859dc)=>{const _0x468943=a57_0x581dc7,_0x37c265={};_0x37c265[_0x468943(0x102)]=function(_0x593e2a,_0x1be7d1){return _0x593e2a!==_0x1be7d1;},_0x37c265[_0x468943(0xe2)]=_0x468943(0x12e),_0x37c265['FrOCe']='GET',_0x37c265[_0x468943(0xea)]=_0x468943(0x124),_0x37c265[_0x468943(0x13e)]=function(_0x1b8ed4,_0x5eea32){return _0x1b8ed4-_0x5eea32;},_0x37c265[_0x468943(0x123)]=function(_0x37fe73,_0x218c6c){return _0x37fe73===_0x218c6c;},_0x37c265[_0x468943(0xe8)]='jUxJR',_0x37c265[_0x468943(0xe4)]=_0x468943(0x121);const _0x3cf19f=_0x37c265;try{if(_0x3cf19f['OuGkK'](_0x3cf19f[_0x468943(0xe2)],_0x3cf19f[_0x468943(0xe2)]))_0x6f4bea['newHubUrl']=_0x2d0fbd;else{const _0x8b7f75=new Date();await helper[_0x468943(0x12a)](_0x3cf19f[_0x468943(0xd9)],_0x3cf19f[_0x468943(0xea)],{},_0x5ded23,_0x4859dc,0x1388);const _0x4ae7d2=_0x3cf19f[_0x468943(0x13e)](new Date(),_0x8b7f75);logger['debug'](_0x468943(0xfe)+_0x4859dc+_0x468943(0x108)+_0x4ae7d2+'ms');let _0x41a1e8={};return _0x41a1e8['hubUrl']=_0x4859dc,_0x41a1e8[_0x468943(0x112)]=_0x4ae7d2,_0x41a1e8;}}catch(_0x236b9c){if(_0x3cf19f[_0x468943(0x123)](_0x3cf19f[_0x468943(0xe8)],_0x3cf19f[_0x468943(0xe4)]))_0x4a62e4[_0x468943(0x119)](_0x468943(0x116)+_0x19bc2e);else return logger[_0x468943(0x119)]('ERROR\x20IN\x20FINDING\x20LATENCY\x20FOR\x20'+_0x4859dc+_0x468943(0x10d)+_0x236b9c),{};}},exports[a57_0x581dc7(0xdf)]=async _0x375c1f=>{const _0x168a16=a57_0x581dc7,_0x3f5cee={};_0x3f5cee['nlxrC']=_0x168a16(0x127),_0x3f5cee[_0x168a16(0x131)]=_0x168a16(0xed),_0x3f5cee['gwsLp']='https://hub.browserstack.com';const _0x3130a6=_0x3f5cee;try{const _0x7269c8=await helper[_0x168a16(0x12a)](_0x3130a6[_0x168a16(0xf5)],_0x3130a6[_0x168a16(0x131)],{},_0x375c1f,_0x3130a6[_0x168a16(0x118)],0x1388),_0x21ec6b=JSON['parse'](_0x7269c8['data']);return logger['debug']('Response:\x20'+util['format']('%j',_0x21ec6b)),_0x21ec6b['hubs'];}catch(_0x23f136){logger[_0x168a16(0x119)](_0x168a16(0x116)+_0x23f136);}return null;};
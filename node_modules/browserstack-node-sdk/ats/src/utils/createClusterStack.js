const a22_0x5d0044=a22_0x4aa7;(function(_0x2158ff,_0x50247a){const _0x583bc1=a22_0x4aa7,_0x2cd3e9=_0x2158ff();while(!![]){try{const _0x1011b2=-parseInt(_0x583bc1(0x16e))/0x1*(-parseInt(_0x583bc1(0x1e3))/0x2)+-parseInt(_0x583bc1(0x167))/0x3*(parseInt(_0x583bc1(0x1e1))/0x4)+parseInt(_0x583bc1(0x1bf))/0x5+parseInt(_0x583bc1(0x15e))/0x6+-parseInt(_0x583bc1(0x132))/0x7+-parseInt(_0x583bc1(0x1d1))/0x8*(-parseInt(_0x583bc1(0x149))/0x9)+parseInt(_0x583bc1(0x1b6))/0xa*(-parseInt(_0x583bc1(0x1b3))/0xb);if(_0x1011b2===_0x50247a)break;else _0x2cd3e9['push'](_0x2cd3e9['shift']());}catch(_0x34b54c){_0x2cd3e9['push'](_0x2cd3e9['shift']());}}}(a22_0x2129,0x58fda));function a22_0x4aa7(_0x7bdd1,_0xc01eb0){const _0x212933=a22_0x2129();return a22_0x4aa7=function(_0x4aa7cf,_0x5de7f6){_0x4aa7cf=_0x4aa7cf-0x12f;let _0x231a5f=_0x212933[_0x4aa7cf];return _0x231a5f;},a22_0x4aa7(_0x7bdd1,_0xc01eb0);}const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require(a22_0x5d0044(0x164)),{CLOUDFORMATION_SCHEMA}=require(a22_0x5d0044(0x1d2)),AWS=require('./AWSUtils')[a22_0x5d0044(0x12f)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require(a22_0x5d0044(0x1b9));Promise[a22_0x5d0044(0x1a7)](fs),mergeTemplates=(_0x388339,_0x134da0)=>{const _0x42db13=a22_0x5d0044,_0x51b646={'nbnnb':function(_0xd2cb87,_0x2d4ad1){return _0xd2cb87===_0x2d4ad1;},'aLBnJ':_0x42db13(0x14f),'hafQm':_0x42db13(0x133),'VmEet':function(_0x50ec38,_0x46caff){return _0x50ec38(_0x46caff);},'AMXNo':function(_0x2b1ec2,_0x4fc429){return _0x2b1ec2!==_0x4fc429;},'bPmSf':_0x42db13(0x1df)};Object['keys'](_0x134da0)['forEach'](_0xe13c08=>{const _0x284407=_0x42db13,_0x4a7bd9={'BQCdS':function(_0x1e96c9,_0x273da2){const _0x1298c1=a22_0x4aa7;return _0x51b646[_0x1298c1(0x176)](_0x1e96c9,_0x273da2);}};if(_0x51b646[_0x284407(0x1ab)](_0x51b646[_0x284407(0x13a)],_0x51b646['bPmSf'])){let _0x2b3cd3=0x1;_0x16cae8[_0x284407(0x15f)](_0x4ca507=>{const _0x40f586=_0x284407;_0x2cb269['Parameters'][_0x40f586(0x1a4)]({'ParameterKey':_0x40f586(0x19a)+_0x4a7bd9['BQCdS'](_0x39a317,_0x2b3cd3)[_0x40f586(0x16b)](0x2,'0'),'ParameterValue':_0x4ca507}),_0x2b3cd3+=0x1;});}else{var _0x17d92d=_0x134da0[_0xe13c08];Object[_0x284407(0x139)](_0x17d92d)[_0x284407(0x15f)](_0x5e783a=>{const _0x1def57=_0x284407;_0x51b646['nbnnb'](_0x51b646[_0x1def57(0x17c)],_0x51b646['hafQm'])?_0x5c8d3f[_0x1def57(0x17b)][_0x25b0cf][_0x1def57(0x1bc)]&&_0x28fb0d[_0x1def57(0x17b)][_0x1fa8ff][_0x1def57(0x1bc)][_0x1def57(0x18b)]&&_0x81a178[_0x1def57(0x17b)][_0x47345d][_0x1def57(0x1bc)][_0x1def57(0x18b)]['push'](..._0x5aa9e4):_0x388339[_0xe13c08][_0x5e783a]=_0x17d92d[_0x5e783a];});}});},addVPCData=async(_0x4a0566,_0x56838b)=>{const _0x494924=a22_0x5d0044,_0x1b9148={'XgwAk':_0x494924(0x13c),'EWaDM':function(_0x4f8167,_0x7dc76b){return _0x4f8167===_0x7dc76b;},'YTnbW':'sEenL','kXBXo':_0x494924(0x196),'fSdTN':_0x494924(0x1c5),'OMjba':_0x494924(0x182),'vHhXc':_0x494924(0x155),'DPFCp':function(_0x3ffb38,_0x8bdd49,_0x46ad2d){return _0x3ffb38(_0x8bdd49,_0x46ad2d);},'scZrP':_0x494924(0x1c7),'Jobjz':function(_0x4e820b,_0x31bfe9){return _0x4e820b===_0x31bfe9;},'ajhSO':_0x494924(0x1e2),'nlZPn':_0x494924(0x183),'ODFVX':_0x494924(0x1aa),'LOcpI':function(_0x1e517f,_0x47b7f3,_0x2a08c0){return _0x1e517f(_0x47b7f3,_0x2a08c0);},'cabzL':_0x494924(0x1b2)};if(_0x56838b){if(_0x1b9148[_0x494924(0x19d)](_0x1b9148[_0x494924(0x15d)],_0x1b9148[_0x494924(0x1cc)])){var _0x14697e=_0x5ace02[_0x9553a0];_0x4d2546[_0x494924(0x139)](_0x14697e)[_0x494924(0x15f)](_0x5b56de=>{_0x120123[_0x392b77][_0x5b56de]=_0x14697e[_0x5b56de];});}else{const _0x1d4181=await fs[_0x494924(0x187)](path[_0x494924(0x156)](__dirname,'..',_0x1b9148[_0x494924(0x19e)],_0x1b9148[_0x494924(0x195)]),_0x1b9148[_0x494924(0x1bd)]),_0xbee507={};_0xbee507['schema']=CLOUDFORMATION_SCHEMA;const _0x50ea42=yaml['load'](_0x1d4181,_0xbee507);_0x1b9148[_0x494924(0x157)](mergeTemplates,_0x4a0566,_0x50ea42),_0x4a0566[_0x494924(0x19f)][_0x1b9148['scZrP']]['ParameterGroups'][0x0][_0x494924(0x189)][_0x494924(0x1a4)](_0x1b9148[_0x494924(0x175)]);}}else{if(_0x1b9148[_0x494924(0x135)](_0x1b9148[_0x494924(0x1c0)],_0x1b9148['nlZPn'])){const _0x117a8c={};_0x117a8c['ParameterKey']=_0x1b9148['XgwAk'],_0x117a8c['ParameterValue']=_0x53f4cf,_0x1635ff[_0x494924(0x189)]['push'](_0x117a8c);}else{const _0x467652=await fs[_0x494924(0x187)](path[_0x494924(0x156)](__dirname,'..',_0x1b9148[_0x494924(0x19e)],_0x1b9148[_0x494924(0x174)]),_0x1b9148['vHhXc']),_0x48682d={};_0x48682d[_0x494924(0x13b)]=CLOUDFORMATION_SCHEMA;const _0x59317e=yaml[_0x494924(0x193)](_0x467652,_0x48682d);_0x1b9148[_0x494924(0x1da)](mergeTemplates,_0x4a0566,_0x59317e),_0x4a0566['Metadata'][_0x1b9148['scZrP']][_0x494924(0x18d)][0x0][_0x494924(0x189)]['push'](_0x1b9148[_0x494924(0x173)]);}}},addS3Data=async _0x5416b1=>{const _0x166ef1=a22_0x5d0044,_0x13f5f8={'tJlrP':'CFTemplates','NDfFh':'s3-create.yaml','QbcmY':'utf-8','MlSkO':function(_0x55c0f4,_0x52cbbb){return _0x55c0f4(_0x52cbbb);},'ajYrL':function(_0x294cc0,_0x401b3e){return _0x294cc0===_0x401b3e;},'ZLFsb':function(_0x3d5e94,_0x2d9f71){return _0x3d5e94!==_0x2d9f71;},'HKcsG':_0x166ef1(0x1d6),'LJSgZ':function(_0x67770f,_0xd4fd00,_0x46af4e){return _0x67770f(_0xd4fd00,_0x46af4e);}},_0x159d71=await fs['readFileAsync'](path[_0x166ef1(0x156)](__dirname,'..',_0x13f5f8['tJlrP'],_0x13f5f8['NDfFh']),_0x13f5f8[_0x166ef1(0x1b8)]),_0x1a045f={};_0x1a045f['schema']=CLOUDFORMATION_SCHEMA;const _0xa30d69=yaml[_0x166ef1(0x193)](_0x159d71,_0x1a045f),_0x33d78c=await _0x13f5f8[_0x166ef1(0x18e)](isBucketPresent,global_registry[_0x166ef1(0x1b0)]);_0x13f5f8[_0x166ef1(0x1cd)](_0x33d78c,![])&&(_0x13f5f8[_0x166ef1(0x1c8)](_0x13f5f8[_0x166ef1(0x15c)],_0x13f5f8[_0x166ef1(0x15c)])?_0x5026e0[_0x2c45b8][_0x2c1616]=_0x2f3f98[_0x30d980]:_0x13f5f8[_0x166ef1(0x185)](mergeTemplates,_0x5416b1,_0xa30d69));},addSubnetData=async(_0x348e42,_0x5bbf1b)=>{const _0x49cc74=a22_0x5d0044,_0x27cfab={'QnoxO':function(_0x571912,_0x5e24a5){return _0x571912!==_0x5e24a5;},'Qsqvj':'vQDde','hIPLz':_0x49cc74(0x145),'SOZqT':function(_0x28ee1b,_0x36994d){return _0x28ee1b(_0x36994d);},'hohUE':_0x49cc74(0x1c7),'gbyit':function(_0x18ba6f,_0x21a2fd){return _0x18ba6f(_0x21a2fd);},'ROoLl':'Fn::Join','uPflp':function(_0x28f9ae,_0x1b47b8,_0x2a41fc){return _0x28f9ae(_0x1b47b8,_0x2a41fc);},'ZmGqu':function(_0x43964d,_0x1ea32d){return _0x43964d!==_0x1ea32d;},'NJDCM':_0x49cc74(0x14b),'uujkG':_0x49cc74(0x14a),'XPyfT':_0x49cc74(0x1c5),'EsnJR':_0x49cc74(0x1bb),'PnYBv':_0x49cc74(0x155),'iSJYV':function(_0x3d85a6,_0x90b073,_0x534592){return _0x3d85a6(_0x90b073,_0x534592);},'IjXwG':function(_0x12780f,_0x4e8814){return _0x12780f===_0x4e8814;},'lpdmV':_0x49cc74(0x17d),'cSGVz':_0x49cc74(0x1a5),'Icmuq':_0x49cc74(0x18f),'IOPJT':_0x49cc74(0x19b),'toUlu':_0x49cc74(0x131),'lxJNO':_0x49cc74(0x143),'lESJE':_0x49cc74(0x136),'LMcFF':_0x49cc74(0x1b7),'EUVmV':'Subnet03Block'};if(_0x5bbf1b){if(_0x27cfab['ZmGqu'](_0x27cfab[_0x49cc74(0x1c2)],_0x27cfab[_0x49cc74(0x1cb)])){const _0x3db3c4=await fs[_0x49cc74(0x187)](path['join'](__dirname,'..',_0x27cfab['XPyfT'],_0x27cfab[_0x49cc74(0x130)]),_0x27cfab['PnYBv']),_0xc620ae={};_0xc620ae[_0x49cc74(0x13b)]=CLOUDFORMATION_SCHEMA;const _0x1e008b=yaml['load'](_0x3db3c4,_0xc620ae);_0x27cfab[_0x49cc74(0x154)](mergeTemplates,_0x348e42,_0x1e008b);let _0x687ee8=0x1;_0x5bbf1b[_0x49cc74(0x15f)](_0x485a99=>{const _0xccdee3=_0x49cc74;if(_0x27cfab[_0xccdee3(0x16d)](_0x27cfab['Qsqvj'],_0x27cfab[_0xccdee3(0x1c1)]))_0x1376cf[_0x4ac9bf[_0xccdee3(0x159)]]=_0x33ea96[_0xccdee3(0x168)];else{const _0x42e647=_0x27cfab[_0xccdee3(0x1d7)][_0xccdee3(0x1b4)]('|');let _0x3e9ac5=0x0;while(!![]){switch(_0x42e647[_0x3e9ac5++]){case'0':_0x348e42[_0xccdee3(0x17b)][_0xccdee3(0x16f)][_0xccdee3(0x1bc)]['Subnets'][_0xccdee3(0x1a4)]({'Ref':_0xccdee3(0x19a)+_0x27cfab['SOZqT'](String,_0x687ee8)[_0xccdee3(0x16b)](0x2,'0')});continue;case'1':_0x348e42[_0xccdee3(0x17b)][_0xccdee3(0x1a6)][_0xccdee3(0x1bc)][_0xccdee3(0x181)]['SubnetIds'][_0xccdee3(0x1a4)]({'Ref':_0xccdee3(0x19a)+_0x27cfab['SOZqT'](String,_0x687ee8)[_0xccdee3(0x16b)](0x2,'0')});continue;case'2':_0x348e42[_0xccdee3(0x19f)][_0x27cfab['hohUE']][_0xccdee3(0x18d)][0x0][_0xccdee3(0x189)][_0xccdee3(0x1a4)](_0xccdee3(0x19a)+_0x27cfab['gbyit'](String,_0x687ee8)['padStart'](0x2,'0'));continue;case'3':_0x687ee8+=0x1;continue;case'4':_0x348e42[_0xccdee3(0x1cf)][_0xccdee3(0x140)][_0xccdee3(0x168)][_0x27cfab[_0xccdee3(0x1ce)]][0x1][_0xccdee3(0x1a4)]({'Ref':_0xccdee3(0x19a)+_0x27cfab[_0xccdee3(0x1d8)](String,_0x687ee8)[_0xccdee3(0x16b)](0x2,'0')});continue;}break;}}});}else _0x27cfab[_0x49cc74(0x17a)](_0x37a96f,_0x3e2720,_0xa32e2c);}else{if(_0x27cfab['IjXwG'](_0x27cfab['lpdmV'],_0x27cfab[_0x49cc74(0x146)]))_0x45f380[_0x49cc74(0x189)][_0x49cc74(0x1a4)]({'ParameterKey':_0x49cc74(0x19a)+_0x27cfab[_0x49cc74(0x162)](_0x599608,_0x50534e)[_0x49cc74(0x16b)](0x2,'0'),'ParameterValue':_0x35fcfb}),_0x1c8c75+=0x1;else{const _0x98ef85=await fs['readFileAsync'](path[_0x49cc74(0x156)](__dirname,'..',_0x27cfab[_0x49cc74(0x1a2)],_0x27cfab[_0x49cc74(0x1ad)]),_0x27cfab[_0x49cc74(0x158)]),_0x5df2ff={};_0x5df2ff['schema']=CLOUDFORMATION_SCHEMA;const _0x30f2fa=yaml['load'](_0x98ef85,_0x5df2ff);_0x27cfab[_0x49cc74(0x17a)](mergeTemplates,_0x348e42,_0x30f2fa),_0x348e42[_0x49cc74(0x17b)]['EKSCluster'][_0x49cc74(0x144)][_0x49cc74(0x1a4)](_0x27cfab[_0x49cc74(0x1d5)],_0x27cfab[_0x49cc74(0x19c)],_0x27cfab['lxJNO']);const _0x5e0599={};_0x5e0599['Ref']=_0x27cfab['IOPJT'];const _0x56fb95={};_0x56fb95['Ref']=_0x27cfab[_0x49cc74(0x19c)];const _0x367a49={};_0x367a49[_0x49cc74(0x17f)]=_0x27cfab[_0x49cc74(0x188)],_0x348e42['Resources'][_0x49cc74(0x1a6)][_0x49cc74(0x1bc)][_0x49cc74(0x181)][_0x49cc74(0x140)]=[_0x5e0599,_0x56fb95,_0x367a49],_0x348e42['Metadata'][_0x27cfab[_0x49cc74(0x178)]][_0x49cc74(0x18d)][0x0][_0x49cc74(0x189)][_0x49cc74(0x1a4)](_0x27cfab['lESJE'],_0x27cfab[_0x49cc74(0x141)],_0x27cfab[_0x49cc74(0x153)]);const _0x29cb22={};_0x29cb22[_0x49cc74(0x17f)]=_0x27cfab[_0x49cc74(0x1d5)];const _0x154266={};_0x154266['Ref']=_0x27cfab['toUlu'];const _0x11f61d={};_0x11f61d['Ref']=_0x27cfab[_0x49cc74(0x188)],_0x348e42[_0x49cc74(0x17b)]['NodeGroup'][_0x49cc74(0x1bc)][_0x49cc74(0x14c)]=[_0x29cb22,_0x154266,_0x11f61d],_0x348e42[_0x49cc74(0x1cf)][_0x49cc74(0x140)]['Value'][_0x27cfab['ROoLl']][0x1]=[{'Ref':_0x27cfab[_0x49cc74(0x1d5)]},{'Ref':_0x27cfab['toUlu']},{'Ref':_0x27cfab['lxJNO']}];}}},addTags=async(_0xb7276c,_0x2a2e86,_0x232a9c)=>{const _0x46c009=a22_0x5d0044,_0x442a9a={};_0x442a9a[_0x46c009(0x160)]=_0x46c009(0x16f),_0x442a9a[_0x46c009(0x137)]=function(_0x676768,_0x435d70){return _0x676768===_0x435d70;},_0x442a9a['NiSqz']=_0x46c009(0x134),_0x442a9a[_0x46c009(0x163)]=_0x46c009(0x1dd),_0x442a9a[_0x46c009(0x1b5)]=function(_0x464d65,_0x51fc94){return _0x464d65===_0x51fc94;},_0x442a9a[_0x46c009(0x142)]='BCvSY',_0x442a9a[_0x46c009(0x1c3)]=_0x46c009(0x14d),_0x442a9a['gzWKa']=function(_0x6ae1cc,_0x176c37){return _0x6ae1cc!==_0x176c37;},_0x442a9a[_0x46c009(0x191)]='pGOVz',_0x442a9a['RfOUW']=_0x46c009(0x194);const _0x54cfae=_0x442a9a;for(let _0x481734 in _0xb7276c[_0x46c009(0x17b)]){_0x54cfae[_0x46c009(0x1b5)](_0x54cfae[_0x46c009(0x142)],_0x54cfae[_0x46c009(0x1c3)])?_0x393c07[_0x46c009(0x139)](_0xf98367)[_0x46c009(0x15f)](_0x5458eb=>{const _0xc7bc96=_0x46c009;var _0x53f089=_0x407df2[_0x5458eb];_0x348d03[_0xc7bc96(0x139)](_0x53f089)[_0xc7bc96(0x15f)](_0x594b9d=>{_0x2bfa09[_0x5458eb][_0x594b9d]=_0x53f089[_0x594b9d];});}):_0xb7276c[_0x46c009(0x17b)][_0x481734]['Properties']&&_0xb7276c[_0x46c009(0x17b)][_0x481734][_0x46c009(0x1bc)][_0x46c009(0x18b)]&&(_0x54cfae[_0x46c009(0x1af)](_0x54cfae[_0x46c009(0x191)],_0x54cfae[_0x46c009(0x1a0)])?_0xb7276c[_0x46c009(0x17b)][_0x481734][_0x46c009(0x1bc)]['Tags'][_0x46c009(0x1a4)](..._0x232a9c):_0x268e22[_0x46c009(0x17b)][_0x206711][_0x46c009(0x1bc)][_0x46c009(0x18b)][_0x46c009(0x1a4)](..._0x2e1b93));}const _0x2d0c98={};_0x232a9c[_0x46c009(0x15f)](_0x199f08=>{const _0x34a2fb=_0x46c009;if(_0x54cfae[_0x34a2fb(0x137)](_0x54cfae['NiSqz'],_0x54cfae[_0x34a2fb(0x163)])){for(let _0x2a2d0d in _0x1b435c[_0x34a2fb(0x17b)]){_0x1ac5c4[_0x34a2fb(0x17b)][_0x2a2d0d][_0x34a2fb(0x1bc)]&&_0x172add[_0x34a2fb(0x17b)][_0x2a2d0d][_0x34a2fb(0x1bc)]['Tags']&&_0x8b14bf[_0x34a2fb(0x17b)][_0x2a2d0d][_0x34a2fb(0x1bc)]['Tags'][_0x34a2fb(0x1a4)](..._0x37d848);}const _0x7a56e4={};_0x41e3fe[_0x34a2fb(0x15f)](_0x4d17d0=>{const _0x28b52d=_0x34a2fb;_0x7a56e4[_0x4d17d0[_0x28b52d(0x159)]]=_0x4d17d0['Value'];}),_0x5e6cc3['Resources'][_0x54cfae[_0x34a2fb(0x160)]]['Properties']['Tags']=_0x7a56e4;}else _0x2d0c98[_0x199f08['Key']]=_0x199f08['Value'];}),_0xb7276c[_0x46c009(0x17b)][_0x54cfae[_0x46c009(0x160)]][_0x46c009(0x1bc)][_0x46c009(0x18b)]=_0x2d0c98;},exports[a22_0x5d0044(0x1db)]=async(_0x47fbc4,_0x4c1e45,_0x586c5f,_0xee9ce9=null,_0x35ec9f=null)=>{const _0x2d2aae=a22_0x5d0044,_0x82b987={'Ligxp':'0|3|1|4|2','HIAGn':function(_0x392d8a,_0x28887a){return _0x392d8a(_0x28887a);},'tChUw':function(_0x39155b,_0x1f952b){return _0x39155b(_0x1f952b);},'ZneAr':_0x2d2aae(0x1c7),'cufOx':function(_0x54c2bf,_0x2dc270){return _0x54c2bf(_0x2dc270);},'OApBd':'Fn::Join','wUZWQ':function(_0x599dbc,_0x30237b){return _0x599dbc(_0x30237b);},'SXadL':_0x2d2aae(0x1b1),'VkcFG':'browserstack:creationDate','rSUtk':_0x2d2aae(0x15b),'cDWKI':'CFTemplates','HqJbf':_0x2d2aae(0x1ca),'tuOQq':_0x2d2aae(0x155),'DPBOc':function(_0x4cf7f0,_0x3a8197,_0x18fd1f){return _0x4cf7f0(_0x3a8197,_0x18fd1f);},'RwGSP':function(_0x412295,_0x22f42a){return _0x412295(_0x22f42a);},'FbNJW':function(_0x4d6131,_0x12022e,_0xd99306,_0x5bc4e7){return _0x4d6131(_0x12022e,_0xd99306,_0x5bc4e7);},'lMOgf':_0x2d2aae(0x170),'LgZRF':_0x2d2aae(0x1a3),'umytF':_0x2d2aae(0x1d4),'UWXLh':_0x2d2aae(0x148),'KRzpi':'NodeAutoScalingGroupMaxSize','teUNU':'NodeImageId','JMIog':_0x2d2aae(0x1ba),'xtLLq':_0x2d2aae(0x1be),'WUiPM':_0x2d2aae(0x151),'VLTIS':function(_0x7badcf,_0x4cb517){return _0x7badcf!=_0x4cb517;},'dJLFu':function(_0x205e76,_0x4b1385){return _0x205e76!==_0x4b1385;},'Kfmbc':function(_0x5df857,_0x35f0c5){return _0x5df857!==_0x35f0c5;},'sIzwg':_0x2d2aae(0x1de),'QpRom':'iTRZX','OevZz':_0x2d2aae(0x13c),'YAkcP':function(_0x4f72e6,_0x28a190){return _0x4f72e6!=_0x28a190;},'CUrAK':function(_0x2312ec,_0x546c0d){return _0x2312ec!==_0x546c0d;},'VlRmj':_0x2d2aae(0x165)},_0xb93cf8=COMMON_HST_TAGS,_0x43a382={};_0x43a382[_0x2d2aae(0x159)]=_0x82b987[_0x2d2aae(0x1d3)],_0x43a382[_0x2d2aae(0x168)]=_0x47fbc4,_0xb93cf8['push'](_0x43a382),_0xb93cf8['push']({'Key':_0x82b987[_0x2d2aae(0x138)],'Value':new Date()[_0x2d2aae(0x198)]()['toString']()});const _0x8ff02a={};_0x8ff02a[_0x2d2aae(0x1c4)]=_0x82b987['rSUtk'];const _0x452352=new AWS[(_0x2d2aae(0x147))](_0x8ff02a),_0x2296f8=await fs[_0x2d2aae(0x187)](path[_0x2d2aae(0x156)](__dirname,'..',_0x82b987['cDWKI'],_0x82b987[_0x2d2aae(0x1dc)]),_0x82b987[_0x2d2aae(0x16a)]),_0xe65d52={};_0xe65d52[_0x2d2aae(0x13b)]=CLOUDFORMATION_SCHEMA;const _0x289afb=yaml[_0x2d2aae(0x193)](_0x2296f8,_0xe65d52);await _0x82b987[_0x2d2aae(0x186)](addVPCData,_0x289afb,_0xee9ce9),await _0x82b987['RwGSP'](addS3Data,_0x289afb),await _0x82b987[_0x2d2aae(0x186)](addSubnetData,_0x289afb,_0x35ec9f),await _0x82b987[_0x2d2aae(0x13d)](addTags,_0x289afb,_0x47fbc4,_0xb93cf8);const _0x2110b6=JSON[_0x2d2aae(0x161)](_0x289afb),_0x4f7768={};_0x4f7768[_0x2d2aae(0x17e)]=CLUSTER_DEP_STACK_NAME,_0x4f7768['OnFailure']=_0x82b987['lMOgf'],_0x4f7768[_0x2d2aae(0x197)]=_0x2110b6,_0x4f7768[_0x2d2aae(0x189)]=[{'ParameterKey':_0x82b987[_0x2d2aae(0x180)],'ParameterValue':_0x47fbc4},{'ParameterKey':_0x82b987[_0x2d2aae(0x150)],'ParameterValue':_0x47fbc4+_0x2d2aae(0x192)},{'ParameterKey':_0x82b987[_0x2d2aae(0x18c)],'ParameterValue':''+_0x4c1e45},{'ParameterKey':_0x82b987['KRzpi'],'ParameterValue':''+_0x586c5f},{'ParameterKey':_0x82b987[_0x2d2aae(0x1a9)],'ParameterValue':global_registry[_0x2d2aae(0x1d9)]},{'ParameterKey':_0x82b987[_0x2d2aae(0x18a)],'ParameterValue':global_registry[_0x2d2aae(0x14e)]},{'ParameterKey':_0x82b987[_0x2d2aae(0x1ac)],'ParameterValue':global_registry[_0x2d2aae(0x1b0)]}],_0x4f7768[_0x2d2aae(0x199)]=[_0x82b987['WUiPM']],_0x4f7768[_0x2d2aae(0x18b)]=_0xb93cf8;const _0x9bf3d3=_0x4f7768;if(_0x82b987[_0x2d2aae(0x16c)](_0xee9ce9,null)&&_0x82b987[_0x2d2aae(0x15a)](_0xee9ce9,undefined)){if(_0x82b987[_0x2d2aae(0x1e0)](_0x82b987[_0x2d2aae(0x184)],_0x82b987[_0x2d2aae(0x1ae)])){const _0x4467d1={};_0x4467d1[_0x2d2aae(0x190)]=_0x82b987[_0x2d2aae(0x13f)],_0x4467d1['ParameterValue']=_0xee9ce9,_0x9bf3d3[_0x2d2aae(0x189)][_0x2d2aae(0x1a4)](_0x4467d1);}else{const _0x3c32ac=_0x82b987[_0x2d2aae(0x1a8)][_0x2d2aae(0x1b4)]('|');let _0x22f26e=0x0;while(!![]){switch(_0x3c32ac[_0x22f26e++]){case'0':_0x34ad54['Resources']['EKSCluster'][_0x2d2aae(0x1bc)][_0x2d2aae(0x181)][_0x2d2aae(0x140)][_0x2d2aae(0x1a4)]({'Ref':_0x2d2aae(0x19a)+_0x82b987['HIAGn'](_0x534361,_0xcfda)[_0x2d2aae(0x16b)](0x2,'0')});continue;case'1':_0x58c69b[_0x2d2aae(0x17b)][_0x2d2aae(0x16f)][_0x2d2aae(0x1bc)][_0x2d2aae(0x14c)]['push']({'Ref':_0x2d2aae(0x19a)+_0x82b987[_0x2d2aae(0x179)](_0x5a2831,_0x2d5bd7)['padStart'](0x2,'0')});continue;case'2':_0x4db9c5+=0x1;continue;case'3':_0x3b3a93['Metadata'][_0x82b987[_0x2d2aae(0x166)]][_0x2d2aae(0x18d)][0x0][_0x2d2aae(0x189)][_0x2d2aae(0x1a4)]('Subnet'+_0x82b987['cufOx'](_0x102fd8,_0x1f7dbe)[_0x2d2aae(0x16b)](0x2,'0'));continue;case'4':_0x4e931d['Outputs'][_0x2d2aae(0x140)][_0x2d2aae(0x168)][_0x82b987[_0x2d2aae(0x13e)]][0x1][_0x2d2aae(0x1a4)]({'Ref':'Subnet'+_0x82b987[_0x2d2aae(0x1c9)](_0xd35c94,_0x468bd8)[_0x2d2aae(0x16b)](0x2,'0')});continue;}break;}}}if(_0x82b987[_0x2d2aae(0x1d0)](_0x35ec9f,null)&&_0x82b987[_0x2d2aae(0x152)](_0x35ec9f,undefined)){let _0x1e5269=0x1;_0x35ec9f[_0x2d2aae(0x15f)](_0x20779d=>{const _0x4b1258=_0x2d2aae;_0x9bf3d3[_0x4b1258(0x189)][_0x4b1258(0x1a4)]({'ParameterKey':'Subnet'+_0x82b987['tChUw'](String,_0x1e5269)[_0x4b1258(0x16b)](0x2,'0'),'ParameterValue':_0x20779d}),_0x1e5269+=0x1;});}const _0x35be03=await _0x452352['createStack'](_0x9bf3d3)[_0x2d2aae(0x169)]();logger[_0x2d2aae(0x172)](_0x2d2aae(0x1c6));const _0x3076f9={};return _0x3076f9['StackName']=_0x35be03[_0x2d2aae(0x171)],_0x452352[_0x2d2aae(0x177)](_0x82b987[_0x2d2aae(0x1a1)],_0x3076f9)[_0x2d2aae(0x169)]();};function a22_0x2129(){const _0x299768=['470866zHxMuC','awsObj','EsnJR','Subnet02','4111604OPurGu','vwWlX','gxTWA','Jobjz','Subnet01Block','FXykW','VkcFG','keys','bPmSf','schema','VPC','FbNJW','OApBd','OevZz','SubnetIds','LMcFF','foAZP','Subnet03','DependsOn','1|2|0|4|3','cSGVz','CloudFormation','NodeAutoScalingGroupMinSize','180eVRtJa','kGQPk','hKMzN','Subnets','CynPR','instanceType','CmCIL','umytF','CAPABILITY_NAMED_IAM','CUrAK','EUVmV','iSJYV','utf-8','join','DPFCp','PnYBv','Key','dJLFu','2010-05-15','HKcsG','YTnbW','3481380cYgLzx','forEach','WsyQW','stringify','SOZqT','rJmvp','js-yaml','stackCreateComplete','ZneAr','308658rMeYfS','Value','promise','tuOQq','padStart','VLTIS','QnoxO','1OAGKij','NodeGroup','DELETE','StackId','debug','cabzL','ODFVX','XgwAk','VmEet','waitFor','hohUE','tChUw','uPflp','Resources','aLBnJ','poHwl','StackName','Ref','LgZRF','ResourcesVpcConfig','vpc-import.yaml','PUSzm','sIzwg','LJSgZ','DPBOc','readFileAsync','lxJNO','Parameters','JMIog','Tags','UWXLh','ParameterGroups','MlSkO','subnet-create.yaml','ParameterKey','qwUHL','-NodeGroup','load','pGUux','OMjba','fpPSg','TemplateBody','valueOf','Capabilities','Subnet','Subnet01','toUlu','EWaDM','fSdTN','Metadata','RfOUW','VlRmj','XPyfT','ClusterName','push','yOZLi','EKSCluster','promisifyAll','Ligxp','teUNU','vpc-create.yaml','AMXNo','xtLLq','Icmuq','QpRom','gzWKa','s3Bucket','browserstack:cluster','VpcBlock','11FTWNXc','split','pLfCa','2282810EyBLFJ','Subnet02Block','QbcmY','./AWSUtils','NodeInstanceType','subnet-import.yaml','Properties','vHhXc','S3BucketName','555300IKdOUD','ajhSO','Qsqvj','NJDCM','nlVIT','apiVersion','CFTemplates','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','AWS::CloudFormation::Interface','ZLFsb','wUZWQ','aws-eks-cluster-dep.yaml','uujkG','kXBXo','ajYrL','ROoLl','Outputs','YAkcP','265992xfUkpS','js-yaml-cloudformation-schema','SXadL','NodeGroupName','IOPJT','oEKQS','hIPLz','gbyit','ami','LOcpI','createClusterStack','HqJbf','balLv','SEqvL','uGNWR','Kfmbc','16mMsVEm','yuuBb'];a22_0x2129=function(){return _0x299768;};return a22_0x2129();}
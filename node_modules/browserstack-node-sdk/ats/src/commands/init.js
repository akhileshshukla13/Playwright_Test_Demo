const a13_0x219d7a=a13_0x3425;function a13_0x4a8e(){const _0x5e6396=['stringify','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','acULn','rxnkg','request','argv','INFO','xjvSb','nOKMb','recommendCommands','username','MjrfO','NZPzC','string','bstackUsername','MuiOj','mkdirSync','MSdyS','desc','password','BROWSERSTACK_ACCESS_KEY','dftiG','type','400266KZeNWH','pMXWo','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','NRTfE','options','command','TGnrT','BROWSERSTACK_USERNAME','statusCode','VvtMe','wHyWZ','url','xIvQx','../config/constants','VGOKw','help','pvEXx','existsSync','5WDaBzB','epilogue','TtSwI','LNSDJ','zalkU','env','3ggeTDu','piOSG','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','parse','laMUe','91230DplnWt','SOqAm','readFileSync','ZLZhq','1092560DtuPar','GTZmM','gwrcu','error','../utils/instrumentationUtils','description','nMliX','init','dbvEZ','dAtIp','Browserstack','zTemL','builder','821676hMqnNY','/automate/plan.json','bBgQU','sonoq','sZxgX','rhHMv','KMqdD','bstackAccesskey','423801lxTDKS','bstack-accesskey','handler','FhqND','jLvZo','KqnUH','init-called','rbDFu','PZnEc','uuid','fymea','strict','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','eNbvU','usage','uPRJn','GET','../utils/utilityMethods','OJUey','wrong-creds','https://','promisify','exit','LkqID','debug','1347262DOakYD','stack','ZQjqB','writeFileSync','150852hrJjqH'];a13_0x4a8e=function(){return _0x5e6396;};return a13_0x4a8e();}(function(_0x3a64b2,_0x2496b3){const _0x57c9b2=a13_0x3425,_0x42e783=_0x3a64b2();while(!![]){try{const _0x30a4c7=-parseInt(_0x57c9b2(0x1aa))/0x1*(parseInt(_0x57c9b2(0x1af))/0x2)+-parseInt(_0x57c9b2(0x1c8))/0x3+-parseInt(_0x57c9b2(0x17a))/0x4+parseInt(_0x57c9b2(0x1a4))/0x5*(parseInt(_0x57c9b2(0x1c0))/0x6)+parseInt(_0x57c9b2(0x176))/0x7+parseInt(_0x57c9b2(0x1b3))/0x8+-parseInt(_0x57c9b2(0x192))/0x9;if(_0x30a4c7===_0x2496b3)break;else _0x42e783['push'](_0x42e783['shift']());}catch(_0x50a349){_0x42e783['push'](_0x42e783['shift']());}}}(a13_0x4a8e,0x19cd3));const fs=require('fs'),util=require('util'),request=require(a13_0x219d7a(0x17f)),{v4:uuidv4}=require(a13_0x219d7a(0x1d1)),{logger}=require('../config/logger'),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a13_0x219d7a(0x19f)),{getDirForConfig,getCredentialsPath}=require(a13_0x219d7a(0x16e)),{sendInstrumentationEvent}=require(a13_0x219d7a(0x1b7)),promisifiedRequest=util[a13_0x219d7a(0x172)](request);function a13_0x3425(_0x1936de,_0x4c0fa8){const _0x4a8e2b=a13_0x4a8e();return a13_0x3425=function(_0x342566,_0x509aac){_0x342566=_0x342566-0x16a;let _0x3e29f1=_0x4a8e2b[_0x342566];return _0x3e29f1;},a13_0x3425(_0x1936de,_0x4c0fa8);}exports[a13_0x219d7a(0x197)]=a13_0x219d7a(0x1ba),exports[a13_0x219d7a(0x18d)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a13_0x219d7a(0x1bf)]=function(_0x5de67f){const _0x41b8e7=a13_0x219d7a,_0x2ae0a7={};_0x2ae0a7[_0x41b8e7(0x174)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x2ae0a7['xIvQx']=_0x41b8e7(0x188),_0x2ae0a7[_0x41b8e7(0x1b0)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x2ae0a7[_0x41b8e7(0x1a7)]=_0x41b8e7(0x1a1);const _0x132325=_0x2ae0a7,_0x24eceb={};_0x24eceb[_0x41b8e7(0x1b8)]=_0x132325[_0x41b8e7(0x174)],_0x24eceb[_0x41b8e7(0x191)]=_0x132325[_0x41b8e7(0x19e)];const _0x3ad5e9={};_0x3ad5e9[_0x41b8e7(0x1b8)]=_0x132325[_0x41b8e7(0x1b0)],_0x3ad5e9[_0x41b8e7(0x191)]=_0x132325[_0x41b8e7(0x19e)];const _0x275ce7={};return _0x275ce7['bstack-username']=_0x24eceb,_0x275ce7[_0x41b8e7(0x1c9)]=_0x3ad5e9,_0x5de67f[_0x41b8e7(0x16b)](HELP_HEADER_MESSAGE['init'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x41b8e7(0x196)](_0x275ce7)[_0x41b8e7(0x184)]()[_0x41b8e7(0x1d3)]()[_0x41b8e7(0x1a1)](_0x132325['LNSDJ'])['argv'];},exports[a13_0x219d7a(0x1ca)]=async function(_0x3c1ac9){const _0x189627=a13_0x219d7a,_0x25d347={'xjvSb':function(_0x10efdb){return _0x10efdb();},'MSdyS':'utf-8','dbvEZ':_0x189627(0x1d4),'jLvZo':_0x189627(0x188),'MjrfO':_0x189627(0x1ac),'uPRJn':'help','VGOKw':function(_0x281579,_0xc19e74,_0x400632,_0x1d8e62,_0x105177,_0x5e663e,_0x41be8a){return _0x281579(_0xc19e74,_0x400632,_0x1d8e62,_0x105177,_0x5e663e,_0x41be8a);},'PZnEc':_0x189627(0x1ce),'ZLZhq':function(_0x3b8cf4,_0x2fdc73){return _0x3b8cf4!==_0x2fdc73;},'NZPzC':_0x189627(0x190),'nMliX':_0x189627(0x17e),'gwrcu':_0x189627(0x18a),'dAtIp':_0x189627(0x183),'piOSG':function(_0x592848,_0x483483){return _0x592848===_0x483483;},'pvEXx':_0x189627(0x1cb),'laMUe':_0x189627(0x1d2),'KMqdD':_0x189627(0x195),'bBgQU':function(_0x58408e,_0x170999){return _0x58408e===_0x170999;},'wHyWZ':function(_0x2fb3b1,_0x1de514){return _0x2fb3b1===_0x1de514;},'TGnrT':_0x189627(0x19b),'ZQjqB':'odxUl','hPKkI':_0x189627(0x194),'zTemL':function(_0x2f54f3){return _0x2f54f3();},'UjsGA':_0x189627(0x16d),'eNbvU':function(_0x470bd1,_0x1519b6){return _0x470bd1(_0x1519b6);},'sZxgX':function(_0x440c31,_0xb9be5c){return _0x440c31!==_0xb9be5c;},'mjLDX':function(_0x536732,_0x998750){return _0x536732!==_0x998750;},'UwNoU':function(_0x2496bc,_0x49d970){return _0x2496bc===_0x49d970;},'KqnUH':'EEjEO','GTZmM':function(_0x4294f5,_0x41505f){return _0x4294f5!==_0x41505f;},'rhHMv':_0x189627(0x1cf),'sonoq':_0x189627(0x1a6),'acULn':function(_0x5298c7,_0x598741){return _0x5298c7!==_0x598741;},'OJUey':'tVzBN','pMXWo':_0x189627(0x17c),'zalkU':_0x189627(0x170),'rTzJs':'unknown-error'};try{global_registry['requestId']=_0x25d347[_0x189627(0x182)](uuidv4),_0x25d347[_0x189627(0x1a0)](sendInstrumentationEvent,_0x3c1ac9,_0x25d347[_0x189627(0x1d0)],messageTypes[_0x189627(0x181)],null,null,_0x3c1ac9);const _0x381cdc=_0x25d347['xjvSb'](getDirForConfig);if(!fs[_0x189627(0x1a3)](_0x381cdc)){if(_0x25d347[_0x189627(0x1b2)](_0x25d347[_0x189627(0x187)],_0x25d347[_0x189627(0x187)])){let _0x71e441={};const _0x407794=_0x25d347[_0x189627(0x182)](_0x55f1c5);_0x11b0dc[_0x189627(0x1a3)](_0x407794)&&(_0x71e441=_0x5cba4e[_0x189627(0x1ad)](_0x5a725b[_0x189627(0x1b1)](_0x407794,_0x25d347[_0x189627(0x18c)])));const _0x5188b6={};_0x5188b6['username']=_0x63c96,_0x5188b6[_0x189627(0x18e)]=_0x85b2d8,_0x71e441[_0x189627(0x1bd)]=_0x5188b6,_0x32a60a[_0x189627(0x179)](_0x407794,_0x3264ba[_0x189627(0x17b)](_0x71e441)),_0x72ac94[_0x189627(0x173)](0x0);}else fs[_0x189627(0x18b)](_0x381cdc);}let _0x3de9f2,_0x3eab7d;process[_0x189627(0x1a9)][_0x189627(0x199)]&&(_0x25d347['ZLZhq'](_0x25d347[_0x189627(0x1b9)],_0x25d347['nMliX'])?_0x5f48b8=!![]:_0x3de9f2=process[_0x189627(0x1a9)][_0x189627(0x199)]);process[_0x189627(0x1a9)][_0x189627(0x18f)]&&(_0x25d347[_0x189627(0x1b2)](_0x25d347[_0x189627(0x1b5)],_0x25d347[_0x189627(0x1bc)])?_0x3eab7d=process[_0x189627(0x1a9)][_0x189627(0x18f)]:_0x4d8c9a[_0x189627(0x18b)](_0x5f0e04));_0x3c1ac9[_0x189627(0x189)]&&(_0x25d347[_0x189627(0x1ab)](_0x25d347[_0x189627(0x1a2)],_0x25d347[_0x189627(0x1ae)])?_0xe105b0=_0x5a01e6[_0x189627(0x1a9)][_0x189627(0x199)]:_0x3de9f2=_0x3c1ac9[_0x189627(0x189)]);if(_0x3c1ac9[_0x189627(0x1c7)]){if(_0x25d347[_0x189627(0x1ab)](_0x25d347[_0x189627(0x1c6)],_0x25d347['KMqdD']))_0x3eab7d=_0x3c1ac9[_0x189627(0x1c7)];else{const _0x56bc77={};_0x56bc77['description']=_0x25d347[_0x189627(0x1bb)],_0x56bc77[_0x189627(0x191)]=_0x25d347[_0x189627(0x1cc)];const _0x27f2a4={};_0x27f2a4['description']=_0x25d347[_0x189627(0x186)],_0x27f2a4[_0x189627(0x191)]=_0x25d347['jLvZo'];const _0x4a94e7={};return _0x4a94e7['bstack-username']=_0x56bc77,_0x4a94e7[_0x189627(0x1c9)]=_0x27f2a4,_0x1e04a5[_0x189627(0x16b)](_0x216744[_0x189627(0x1ba)])[_0x189627(0x1a5)](_0x1c8a1c)['options'](_0x4a94e7)[_0x189627(0x184)]()['strict']()[_0x189627(0x1a1)](_0x25d347[_0x189627(0x16c)])[_0x189627(0x180)];}}if(_0x25d347[_0x189627(0x1c2)](_0x3de9f2,undefined)||_0x25d347['wHyWZ'](_0x3eab7d,undefined)){if(_0x25d347[_0x189627(0x19c)](_0x25d347[_0x189627(0x198)],_0x25d347[_0x189627(0x178)]))_0x270a00=_0x4abc37[_0x189627(0x1a9)][_0x189627(0x18f)];else{logger[_0x189627(0x175)](_0x25d347['hPKkI']);const [_0x3a0a81,_0x516f8c]=await _0x25d347[_0x189627(0x1be)](inputBstackKeys);_0x3de9f2=_0x3a0a81,_0x3eab7d=_0x516f8c;}}let _0x4e0b16=![];const _0x2fdd96={};_0x2fdd96[_0x189627(0x19d)]=_0x189627(0x171)+_0x3de9f2+':'+_0x3eab7d+'@'+BS_API_URL+_0x189627(0x1c1),_0x2fdd96['method']=_0x25d347['UjsGA'];const _0x4e8b00=_0x2fdd96,_0x1f6d14=await _0x25d347[_0x189627(0x16a)](promisifiedRequest,_0x4e8b00);_0x25d347[_0x189627(0x1c4)](_0x1f6d14,null)&&_0x25d347['mjLDX'](_0x1f6d14,undefined)&&_0x25d347['UwNoU'](_0x1f6d14[_0x189627(0x19a)],0xc8)&&(_0x25d347[_0x189627(0x1c2)](_0x25d347['KqnUH'],_0x25d347[_0x189627(0x1cd)])?_0x4e0b16=!![]:_0x4b749a=_0x4240ef[_0x189627(0x1ad)](_0x66453a['readFileSync'](_0x11937d,_0x25d347[_0x189627(0x18c)])));if(_0x4e0b16){if(_0x25d347[_0x189627(0x1b4)](_0x25d347[_0x189627(0x1c5)],_0x25d347[_0x189627(0x1c3)])){let _0x30ec6b={};const _0xdb797f=_0x25d347[_0x189627(0x182)](getCredentialsPath);fs[_0x189627(0x1a3)](_0xdb797f)&&(_0x25d347[_0x189627(0x17d)](_0x25d347[_0x189627(0x16f)],_0x25d347[_0x189627(0x16f)])?_0x2686cc=_0x5c49c2[_0x189627(0x189)]:_0x30ec6b=JSON[_0x189627(0x1ad)](fs[_0x189627(0x1b1)](_0xdb797f,_0x25d347[_0x189627(0x18c)])));const _0x444e7e={};_0x444e7e[_0x189627(0x185)]=_0x3de9f2,_0x444e7e[_0x189627(0x18e)]=_0x3eab7d,_0x30ec6b['Browserstack']=_0x444e7e,fs[_0x189627(0x179)](_0xdb797f,JSON[_0x189627(0x17b)](_0x30ec6b)),process[_0x189627(0x173)](0x0);}else _0x5881ce=_0x2aa135[_0x189627(0x1c7)];}else logger[_0x189627(0x1b6)](_0x25d347[_0x189627(0x193)]),await _0x25d347[_0x189627(0x1a0)](sendInstrumentationEvent,_0x3c1ac9,_0x25d347[_0x189627(0x1d0)],messageTypes['ERROR'],_0x25d347[_0x189627(0x1a8)],null,_0x3c1ac9),process[_0x189627(0x173)](0x1);}catch(_0x5d2e34){logger['error'](_0x5d2e34[_0x189627(0x177)]),await _0x25d347[_0x189627(0x1a0)](sendInstrumentationEvent,_0x3c1ac9,_0x25d347[_0x189627(0x1d0)],messageTypes['ERROR'],_0x25d347['rTzJs'],_0x5d2e34,_0x3c1ac9),process[_0x189627(0x173)](0x1);}};
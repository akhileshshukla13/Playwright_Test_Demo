const a3_0x3fb72e=a3_0x2fc1;(function(_0x53f601,_0xacf0d5){const _0x4de0ff=a3_0x2fc1,_0xac6f9e=_0x53f601();while(!![]){try{const _0x11f02a=-parseInt(_0x4de0ff(0x25c))/0x1+parseInt(_0x4de0ff(0x2b5))/0x2*(parseInt(_0x4de0ff(0x27e))/0x3)+parseInt(_0x4de0ff(0x267))/0x4+parseInt(_0x4de0ff(0x263))/0x5*(parseInt(_0x4de0ff(0x264))/0x6)+-parseInt(_0x4de0ff(0x1fb))/0x7+parseInt(_0x4de0ff(0x206))/0x8+-parseInt(_0x4de0ff(0x30d))/0x9;if(_0x11f02a===_0xacf0d5)break;else _0xac6f9e['push'](_0xac6f9e['shift']());}catch(_0x53c2f4){_0xac6f9e['push'](_0xac6f9e['shift']());}}}(a3_0x3654,0x36440));const fs=require('fs'),path=require(a3_0x3fb72e(0x243)),cp=require('child_process'),{google}=require(a3_0x3fb72e(0x1fd)),compute=require(a3_0x3fb72e(0x289)),container=require(a3_0x3fb72e(0x24f)),{ProjectsClient}=require(a3_0x3fb72e(0x29e))['v3'],{logger}=require('../config/logger'),{CloudProvider}=require('./CloudProvider'),{getDirForConfig}=require(a3_0x3fb72e(0x2b6)),{deleteRoutingDeps}=require(a3_0x3fb72e(0x1ed)),{GCP,WS_EVENTS,global_registry}=require(a3_0x3fb72e(0x278));class GoogleCloudProvider extends CloudProvider{constructor(_0x112cce,_0x516b9e,_0x2b1206,_0x27e439){const _0x254595=a3_0x3fb72e,_0x19f63e={};_0x19f63e[_0x254595(0x2ec)]=_0x254595(0x258),_0x19f63e[_0x254595(0x2d8)]=_0x254595(0x1e2),_0x19f63e[_0x254595(0x2a1)]=_0x254595(0x2e0);const _0x3716d1=_0x19f63e,_0x43258b=_0x3716d1['BYPPe']['split']('|');let _0x2aeff9=0x0;while(!![]){switch(_0x43258b[_0x2aeff9++]){case'0':this[_0x254595(0x268)]=null;continue;case'1':this[_0x254595(0x225)]=null;continue;case'2':this[_0x254595(0x281)]=null;continue;case'3':this[_0x254595(0x2fb)]=null;continue;case'4':this['serviceAccountName']=_0x3716d1[_0x254595(0x2d8)];continue;case'5':this[_0x254595(0x22d)]=null;continue;case'6':this['customRoleName']=_0x3716d1['YmTVz'];continue;case'7':super(GCP,_0x112cce,_0x516b9e,_0x2b1206,_0x27e439);continue;case'8':this['iamClient']=null;continue;}break;}}['configureIfNotConfigured'](){const _0x29b3bd=a3_0x3fb72e,_0x28da46={};_0x28da46[_0x29b3bd(0x310)]=function(_0x5e7772,_0x400a02){return _0x5e7772===_0x400a02;},_0x28da46[_0x29b3bd(0x20a)]=function(_0x180cfe,_0x5ebd8a){return _0x180cfe!==_0x5ebd8a;},_0x28da46[_0x29b3bd(0x27c)]='iqath';const _0x24aa79=_0x28da46;if(!this[_0x29b3bd(0x2a8)]()){if(_0x24aa79[_0x29b3bd(0x20a)](_0x24aa79[_0x29b3bd(0x27c)],_0x24aa79[_0x29b3bd(0x27c)]))return _0x24aa79['JgFxU'](_0x44c709[_0x29b3bd(0x2bb)],!![]);else this[_0x29b3bd(0x2f8)]();}}['isConfigured'](){const _0x122edd=a3_0x3fb72e,_0x390de1={};_0x390de1[_0x122edd(0x224)]=function(_0x3610ea,_0x203995){return _0x3610ea===_0x203995;};const _0x3d6b1b=_0x390de1;return _0x3d6b1b[_0x122edd(0x224)](global_registry['gcpConfigSet'],!![]);}[a3_0x3fb72e(0x2f8)](){const _0x2c55e8=a3_0x3fb72e,_0x3611e5=this[_0x2c55e8(0x2fb)],_0xe9e37a={};_0xe9e37a['keyFile']=_0x3611e5,this[_0x2c55e8(0x268)]=new container['v1'][(_0x2c55e8(0x236))](_0xe9e37a);const _0xb5d1a7={};_0xb5d1a7[_0x2c55e8(0x2e5)]=_0x3611e5,this['networkClient']=new compute['v1'][(_0x2c55e8(0x251))](_0xb5d1a7);const _0x3c1ab3={};_0x3c1ab3[_0x2c55e8(0x2e5)]=_0x3611e5,this['resourcemanagerClient']=new ProjectsClient(_0x3c1ab3),this[_0x2c55e8(0x26a)]=google['iam']('v1'),global_registry[_0x2c55e8(0x2bb)]=!![];}async[a3_0x3fb72e(0x24b)](_0x46bc56,_0x3ab09b){const _0x5b3878=a3_0x3fb72e,_0x234859={'wAEyg':function(_0x9f6501,_0x4012a8){return _0x9f6501(_0x4012a8);},'XpGdy':function(_0x36f493){return _0x36f493();},'xVdTG':'gcp_credentials.json'},_0x25cd39=await _0x234859[_0x5b3878(0x2ea)](_0x46bc56,'Enter\x20Key\x20file\x20(.json)\x20path\x20for\x20GCP\x20Service\x20Account:\x20');let _0x3af457=await fs[_0x5b3878(0x2f6)](_0x25cd39);_0x3af457=_0x3af457['toString']();const _0x216b49=_0x234859[_0x5b3878(0x249)](getDirForConfig),_0x58a28c=path['join'](_0x216b49,_0x234859['xVdTG']);fs['writeFileSync'](_0x58a28c,_0x3af457),this[_0x5b3878(0x2fb)]=_0x58a28c;const _0x52c210={};return _0x52c210['keyFile']=_0x58a28c,_0x3ab09b[_0x5b3878(0x282)][GCP]=_0x52c210,_0x3af457=JSON[_0x5b3878(0x24d)](_0x3af457),this['projectId']=_0x3af457['project_id'],_0x3ab09b;}async[a3_0x3fb72e(0x272)](_0x33cab4){const _0x5c62c1=a3_0x3fb72e;this[_0x5c62c1(0x2fb)]=_0x33cab4[this['cloudProviderName']][_0x5c62c1(0x2e5)];let _0x10dddd=await fs[_0x5c62c1(0x2f6)](this[_0x5c62c1(0x2fb)]);_0x10dddd=JSON['parse'](_0x10dddd),this[_0x5c62c1(0x225)]=_0x10dddd[_0x5c62c1(0x28a)];}[a3_0x3fb72e(0x21a)](_0x2e29f4){const _0x30ddd4=a3_0x3fb72e;return _0x2e29f4['body'][_0x30ddd4(0x234)]['loadBalancer'][_0x30ddd4(0x211)][0x0]['ip'];}async[a3_0x3fb72e(0x208)](){const _0x5da989=a3_0x3fb72e,_0x5ef285={};_0x5ef285[_0x5da989(0x216)]=function(_0x1d3670,_0x5146b4){return _0x1d3670===_0x5146b4;},_0x5ef285['crIfS']='hkbMq',_0x5ef285[_0x5da989(0x2a4)]=_0x5da989(0x2ce),_0x5ef285['DpTEG']=function(_0x4cfb15,_0x1d0a49){return _0x4cfb15!==_0x1d0a49;},_0x5ef285[_0x5da989(0x2ab)]='ZFtuX',_0x5ef285['NinOj']=_0x5da989(0x27f),_0x5ef285[_0x5da989(0x30b)]=function(_0x31b120,_0x25ca36){return _0x31b120===_0x25ca36;},_0x5ef285[_0x5da989(0x280)]=_0x5da989(0x1e7),_0x5ef285[_0x5da989(0x2db)]=function(_0x247ee3,_0x419034){return _0x247ee3===_0x419034;},_0x5ef285['TpFLG']=_0x5da989(0x2be);const _0x505bea=_0x5ef285;try{if(_0x505bea[_0x5da989(0x216)](_0x505bea['crIfS'],_0x505bea[_0x5da989(0x2a4)]))return[!![],_0xe25cca];else{const _0x50f736=await this[_0x5da989(0x293)]();if(_0x50f736[0x0]?.[_0x5da989(0x247)]?.[_0x5da989(0x2cd)]){if(_0x505bea['DpTEG'](_0x505bea[_0x5da989(0x2ab)],_0x505bea[_0x5da989(0x2b1)])){const _0x19429f=_0x50f736[0x0]?.[_0x5da989(0x247)]?.[_0x5da989(0x2cd)];return _0x19429f&&_0x505bea[_0x5da989(0x30b)](_0x19429f[_0x5da989(0x2d3)](),_0x505bea['LvvxB']);}else return!![];}}}catch(_0x2f7e47){return _0x505bea[_0x5da989(0x2db)](_0x505bea[_0x5da989(0x259)],_0x505bea[_0x5da989(0x259)])?![]:!![];}return![];}async['isClusterPresent'](){const _0x357872=a3_0x3fb72e,_0x22fa56={};_0x22fa56['XuzpO']=function(_0x44c86b,_0x550f1d){return _0x44c86b===_0x550f1d;},_0x22fa56[_0x357872(0x212)]=function(_0x124e20,_0x40d13c){return _0x124e20===_0x40d13c;},_0x22fa56[_0x357872(0x222)]=_0x357872(0x285),_0x22fa56[_0x357872(0x25e)]=_0x357872(0x25d),_0x22fa56[_0x357872(0x291)]=function(_0x2ebb17,_0x2fcc60){return _0x2ebb17===_0x2fcc60;},_0x22fa56[_0x357872(0x248)]=function(_0x5e5897,_0x2b64ac){return _0x5e5897!==_0x2b64ac;},_0x22fa56[_0x357872(0x20e)]=_0x357872(0x2b8),_0x22fa56[_0x357872(0x287)]='NmZLP';const _0x4f79e2=_0x22fa56;this[_0x357872(0x2e6)]();const _0x5f0a46={};_0x5f0a46[_0x357872(0x2ae)]='projects/'+this['projectId']+_0x357872(0x1e4)+global_registry[_0x357872(0x2a2)];const _0x3780d3=_0x5f0a46,_0x14d962=await this[_0x357872(0x268)]['listClusters'](_0x3780d3);for(const _0x584c5f of _0x14d962[0x0][_0x357872(0x2ca)]){if(_0x4f79e2[_0x357872(0x212)](_0x4f79e2[_0x357872(0x222)],_0x4f79e2[_0x357872(0x25e)])){if(_0x4f79e2[_0x357872(0x2a6)](_0x5658e6?.[_0x357872(0x2fd)],_0x357872(0x292)+this['projectId']+'/serviceAccounts/'+this[_0x357872(0x2f7)]+'@'+this[_0x357872(0x225)]+'.iam.gserviceaccount.com'))return!![];}else{if(_0x4f79e2[_0x357872(0x291)](_0x584c5f['name'],this['clusterName'])){if(_0x4f79e2[_0x357872(0x248)](_0x4f79e2[_0x357872(0x20e)],_0x4f79e2[_0x357872(0x287)]))return!![];else{const _0x22bb7f=this[_0x357872(0x2fb)],_0x4d1759={};_0x4d1759[_0x357872(0x2e5)]=_0x22bb7f,this[_0x357872(0x268)]=new _0x253702['v1'][(_0x357872(0x236))](_0x4d1759);const _0x52e01b={};_0x52e01b[_0x357872(0x2e5)]=_0x22bb7f,this[_0x357872(0x22d)]=new _0xe9874f['v1'][(_0x357872(0x251))](_0x52e01b);const _0x4a47db={};_0x4a47db[_0x357872(0x2e5)]=_0x22bb7f,this[_0x357872(0x281)]=new _0x2714ec(_0x4a47db),this[_0x357872(0x26a)]=_0x3771e1[_0x357872(0x1ef)]('v1'),_0x17df30[_0x357872(0x2bb)]=!![];}}}}return![];}async[a3_0x3fb72e(0x293)](){const _0x250a97=a3_0x3fb72e,_0x4d97b0=await this[_0x250a97(0x268)][_0x250a97(0x2c4)]({'name':_0x250a97(0x292)+this['projectId']+_0x250a97(0x1e4)+global_registry[_0x250a97(0x2a2)]+'/clusters/'+this['clusterName']});return _0x4d97b0;}async[a3_0x3fb72e(0x2f5)](){const _0x9cef94=a3_0x3fb72e,_0x3bfd9c={};_0x3bfd9c[_0x9cef94(0x233)]=_0x9cef94(0x218),_0x3bfd9c[_0x9cef94(0x2aa)]=_0x9cef94(0x2da),_0x3bfd9c[_0x9cef94(0x2c7)]=_0x9cef94(0x28b);const _0x52da65=_0x3bfd9c;cp['exec'](_0x9cef94(0x29a)+this[_0x9cef94(0x2fb)]);const _0x1a2f30=await this[_0x9cef94(0x293)](),_0x4b1292=_0x9cef94(0x2a3)+this[_0x9cef94(0x225)]+'_'+global_registry[_0x9cef94(0x2a2)]+'_'+this[_0x9cef94(0x2cc)];let _0x4f2981=await fs['readFileAsync'](path['join'](__dirname,'..',_0x52da65['WslLn'],_0x52da65[_0x9cef94(0x2aa)],_0x52da65[_0x9cef94(0x2c7)]));return _0x4f2981=_0x4f2981['toString'](),_0x4f2981=_0x4f2981[_0x9cef94(0x2a0)](/<CLUSTER_NAME>/g,_0x4b1292),_0x4f2981=_0x4f2981[_0x9cef94(0x2a0)](/<CLUSTER_URL>/g,_0x9cef94(0x305)+_0x1a2f30[0x0][_0x9cef94(0x223)]),_0x4f2981=_0x4f2981['replace'](/<CERTIFICATE_DATA>/g,_0x1a2f30[0x0][_0x9cef94(0x255)]['clusterCaCertificate']),_0x4f2981;}async['checkServiceAccount'](){const _0x4d13ab=a3_0x3fb72e,_0x1c4320={};_0x1c4320[_0x4d13ab(0x240)]=_0x4d13ab(0x246),_0x1c4320[_0x4d13ab(0x294)]=function(_0x35f0b8,_0x323fd5){return _0x35f0b8===_0x323fd5;},_0x1c4320[_0x4d13ab(0x296)]=_0x4d13ab(0x30f),_0x1c4320[_0x4d13ab(0x257)]=function(_0x31c4bc,_0x255f3d){return _0x31c4bc!==_0x255f3d;},_0x1c4320[_0x4d13ab(0x215)]='boUXq',_0x1c4320[_0x4d13ab(0x226)]='HvlFX';const _0x2af197=_0x1c4320,_0x5c4d10={};_0x5c4d10[_0x4d13ab(0x220)]=[_0x2af197['zttNk']],_0x5c4d10['keyFile']=this['credentialsPath'];const _0x177998=await google[_0x4d13ab(0x260)][_0x4d13ab(0x2af)](_0x5c4d10),_0x4159ce=await this['iamClient']['projects'][_0x4d13ab(0x2e9)]['list']({'name':_0x4d13ab(0x292)+this['projectId'],'auth':_0x177998});for(const _0x2d9e11 of _0x4159ce?.[_0x4d13ab(0x21d)]?.[_0x4d13ab(0x2ac)]){if(_0x2af197[_0x4d13ab(0x294)](_0x2af197[_0x4d13ab(0x296)],_0x2af197['LaVvp'])){if(_0x2af197['iofXW'](_0x2d9e11?.[_0x4d13ab(0x2fd)],'projects/'+this['projectId']+_0x4d13ab(0x1f7)+this['serviceAccountName']+'@'+this[_0x4d13ab(0x225)]+'.iam.gserviceaccount.com')){if(_0x2af197[_0x4d13ab(0x257)](_0x2af197[_0x4d13ab(0x215)],_0x2af197['exRid']))return!![];else!this['isConfigured']()&&this[_0x4d13ab(0x2f8)]();}}else return![];}return![];}async['setupServiceAccount'](){const _0xfc08ab=a3_0x3fb72e,_0x5c86c4={};_0x5c86c4[_0xfc08ab(0x229)]=_0xfc08ab(0x30e),_0x5c86c4[_0xfc08ab(0x239)]=function(_0x5c31a9,_0x4d6314){return _0x5c31a9===_0x4d6314;},_0x5c86c4[_0xfc08ab(0x205)]=_0xfc08ab(0x2d1),_0x5c86c4['UhMFB']='Service\x20account\x20already\x20exists,\x20skipping',_0x5c86c4[_0xfc08ab(0x26f)]=_0xfc08ab(0x2f4),_0x5c86c4[_0xfc08ab(0x2b7)]=_0xfc08ab(0x246),_0x5c86c4[_0xfc08ab(0x1e6)]=_0xfc08ab(0x20c),_0x5c86c4['ukPZZ']=_0xfc08ab(0x23f),_0x5c86c4['VecYq']=_0xfc08ab(0x29f),_0x5c86c4[_0xfc08ab(0x266)]=_0xfc08ab(0x2b0),_0x5c86c4[_0xfc08ab(0x1f5)]='storage.buckets.deleteTagBinding',_0x5c86c4[_0xfc08ab(0x202)]=_0xfc08ab(0x1e8),_0x5c86c4[_0xfc08ab(0x242)]='storage.buckets.getIamPolicy',_0x5c86c4[_0xfc08ab(0x288)]='storage.buckets.getObjectInsights',_0x5c86c4['XaJNN']='storage.buckets.list',_0x5c86c4['TTEDS']=_0xfc08ab(0x274),_0x5c86c4[_0xfc08ab(0x221)]=_0xfc08ab(0x27a),_0x5c86c4['bLkaR']=_0xfc08ab(0x2c0),_0x5c86c4[_0xfc08ab(0x2b9)]=_0xfc08ab(0x24a),_0x5c86c4[_0xfc08ab(0x253)]=_0xfc08ab(0x1e0),_0x5c86c4[_0xfc08ab(0x217)]=_0xfc08ab(0x29d),_0x5c86c4[_0xfc08ab(0x26c)]=_0xfc08ab(0x265),_0x5c86c4[_0xfc08ab(0x1f0)]='storage.multipartUploads.listParts',_0x5c86c4[_0xfc08ab(0x1fe)]=_0xfc08ab(0x270),_0x5c86c4[_0xfc08ab(0x22b)]=_0xfc08ab(0x1ff),_0x5c86c4[_0xfc08ab(0x311)]='storage.objects.get',_0x5c86c4[_0xfc08ab(0x26e)]=_0xfc08ab(0x283),_0x5c86c4[_0xfc08ab(0x2de)]=_0xfc08ab(0x302),_0x5c86c4[_0xfc08ab(0x210)]=_0xfc08ab(0x201),_0x5c86c4[_0xfc08ab(0x2cf)]=_0xfc08ab(0x232),_0x5c86c4[_0xfc08ab(0x312)]=_0xfc08ab(0x307),_0x5c86c4['TLCBB']='Service\x20Account\x20created,\x20proceeding\x20with\x20Cluster\x20creation';const _0x205e8a=_0x5c86c4,_0x101b23=await this[_0xfc08ab(0x2d7)]();if(_0x101b23){if(_0x205e8a[_0xfc08ab(0x239)](_0x205e8a[_0xfc08ab(0x205)],_0x205e8a[_0xfc08ab(0x205)])){logger[_0xfc08ab(0x1e1)](_0x205e8a[_0xfc08ab(0x28c)]);return;}else{_0x5f1a0c['info'](_0x205e8a[_0xfc08ab(0x229)]);throw _0x207e1c;}}logger['info'](_0x205e8a[_0xfc08ab(0x26f)]);const _0x5cca96={};_0x5cca96[_0xfc08ab(0x220)]=[_0x205e8a['JGGFt']],_0x5cca96[_0xfc08ab(0x2e5)]=this[_0xfc08ab(0x2fb)];const _0x4f8ab7=await google[_0xfc08ab(0x260)][_0xfc08ab(0x2af)](_0x5cca96),_0x51ba61={};_0x51ba61[_0xfc08ab(0x2ee)]=[_0x205e8a[_0xfc08ab(0x1e6)],_0x205e8a[_0xfc08ab(0x22c)],_0x205e8a[_0xfc08ab(0x2f1)],_0x205e8a[_0xfc08ab(0x266)],_0x205e8a[_0xfc08ab(0x1f5)],_0x205e8a[_0xfc08ab(0x202)],_0x205e8a[_0xfc08ab(0x242)],_0x205e8a[_0xfc08ab(0x288)],_0x205e8a['XaJNN'],_0x205e8a[_0xfc08ab(0x2a9)],_0x205e8a[_0xfc08ab(0x221)],_0x205e8a['bLkaR'],_0x205e8a['eVJzC'],_0x205e8a[_0xfc08ab(0x253)],_0x205e8a[_0xfc08ab(0x217)],_0x205e8a['iREMZ'],_0x205e8a[_0xfc08ab(0x1f0)],_0x205e8a[_0xfc08ab(0x1fe)],_0x205e8a[_0xfc08ab(0x22b)],_0x205e8a['aYFMC'],_0x205e8a[_0xfc08ab(0x26e)],_0x205e8a[_0xfc08ab(0x2de)],_0x205e8a['asXZg'],_0x205e8a['yIBue']],_0x51ba61[_0xfc08ab(0x245)]=_0x205e8a['VpIOv'],await this[_0xfc08ab(0x26a)][_0xfc08ab(0x1f8)][_0xfc08ab(0x2fa)][_0xfc08ab(0x303)]({'parent':_0xfc08ab(0x292)+this['projectId'],'requestBody':{'role':_0x51ba61,'roleId':this['customRoleName']},'auth':_0x4f8ab7});const _0x50de99={};_0x50de99[_0xfc08ab(0x2fd)]='projects/'+this[_0xfc08ab(0x225)],_0x50de99[_0xfc08ab(0x219)]={},_0x50de99[_0xfc08ab(0x260)]=_0x4f8ab7,_0x50de99[_0xfc08ab(0x219)]['accountId']=this[_0xfc08ab(0x2f7)];const _0x1d6127=_0x50de99;await this[_0xfc08ab(0x26a)][_0xfc08ab(0x27b)][_0xfc08ab(0x2e9)][_0xfc08ab(0x303)](_0x1d6127);let _0x3aaa9f=await this[_0xfc08ab(0x281)][_0xfc08ab(0x2b2)]({'resource':_0xfc08ab(0x292)+this[_0xfc08ab(0x225)]});_0x3aaa9f=_0x3aaa9f[0x0][_0xfc08ab(0x1eb)];const _0x146a10={};_0x146a10[_0xfc08ab(0x27d)]='projects/'+this[_0xfc08ab(0x225)]+_0xfc08ab(0x238)+this['customRoleName'],_0x146a10['members']=[_0xfc08ab(0x271)+this[_0xfc08ab(0x2f7)]+'@'+this['projectId']+'.iam.gserviceaccount.com'],_0x3aaa9f['push'](_0x146a10);const _0x36ebd7={};_0x36ebd7[_0xfc08ab(0x1eb)]=_0x3aaa9f,await this['resourcemanagerClient'][_0xfc08ab(0x297)]({'resource':'projects/'+this[_0xfc08ab(0x225)],'policy':_0x36ebd7}),logger[_0xfc08ab(0x1e1)](_0x205e8a[_0xfc08ab(0x290)]);}async['setupNewCluster'](_0x90db94='default',_0x22f809=['default']){const _0x1fee74=a3_0x3fb72e,_0x2fa38f={};_0x2fa38f['aqkYq']=_0x1fee74(0x1ea),_0x2fa38f[_0x1fee74(0x203)]=_0x1fee74(0x20b),_0x2fa38f[_0x1fee74(0x306)]=_0x1fee74(0x276);const _0x4876c5=_0x2fa38f,_0x11e885=_0x4876c5[_0x1fee74(0x30a)][_0x1fee74(0x2e4)]('|');let _0x51e822=0x0;while(!![]){switch(_0x11e885[_0x51e822++]){case'0':await this[_0x1fee74(0x230)](_0x90db94,_0x22f809);continue;case'1':logger['info'](_0x4876c5[_0x1fee74(0x203)]);continue;case'2':await this[_0x1fee74(0x300)]();continue;case'3':return!![];case'4':const _0xf77283={};_0xf77283[_0x1fee74(0x29b)]=WS_EVENTS[_0x1fee74(0x2a5)],_0xf77283[_0x1fee74(0x2ff)]=_0x4876c5[_0x1fee74(0x306)],this[_0x1fee74(0x23c)]['sendEventToBackend'](this[_0x1fee74(0x308)],_0xf77283);continue;case'5':this[_0x1fee74(0x1fa)](this[_0x1fee74(0x308)]);continue;}break;}}async[a3_0x3fb72e(0x230)](_0x1a6b86=a3_0x3fb72e(0x256),_0x31cd09=[a3_0x3fb72e(0x256)]){const _0x1cbf95=a3_0x3fb72e,_0x5eabf8={};_0x5eabf8[_0x1cbf95(0x23a)]='Service\x20account\x20already\x20exists,\x20skipping',_0x5eabf8[_0x1cbf95(0x21e)]=function(_0xe41f84,_0x37ff99){return _0xe41f84===_0x37ff99;},_0x5eabf8[_0x1cbf95(0x1ec)]=_0x1cbf95(0x2c1),_0x5eabf8[_0x1cbf95(0x23d)]=_0x1cbf95(0x2c8),_0x5eabf8[_0x1cbf95(0x2e3)]='templates',_0x5eabf8[_0x1cbf95(0x2dc)]='gcpresources',_0x5eabf8[_0x1cbf95(0x2f0)]=_0x1cbf95(0x2bf),_0x5eabf8[_0x1cbf95(0x2df)]=_0x1cbf95(0x2a7),_0x5eabf8[_0x1cbf95(0x2c5)]=_0x1cbf95(0x275),_0x5eabf8['MQfKV']=function(_0x2b89b2,_0x166f21){return _0x2b89b2*_0x166f21;},_0x5eabf8[_0x1cbf95(0x301)]=function(_0x3e1260,_0x349fb9){return _0x3e1260!==_0x349fb9;},_0x5eabf8[_0x1cbf95(0x1f2)]='FxwZz',_0x5eabf8[_0x1cbf95(0x1ee)]=_0x1cbf95(0x235),_0x5eabf8[_0x1cbf95(0x213)]=_0x1cbf95(0x2ef),_0x5eabf8[_0x1cbf95(0x1e9)]=function(_0x531704,_0x2903b9){return _0x531704!==_0x2903b9;},_0x5eabf8[_0x1cbf95(0x2bd)]=_0x1cbf95(0x2d2),_0x5eabf8[_0x1cbf95(0x2f3)]=_0x1cbf95(0x262),_0x5eabf8[_0x1cbf95(0x1f3)]=_0x1cbf95(0x1f6);const _0x21571a=_0x5eabf8;try{if(_0x21571a['jqDmL'](_0x21571a[_0x1cbf95(0x1ec)],_0x21571a['QDiJb'])){logger[_0x1cbf95(0x1e1)](_0x21571a[_0x1cbf95(0x23d)]);let _0x7959cd=await fs[_0x1cbf95(0x2f6)](path[_0x1cbf95(0x26d)](__dirname,'..',_0x21571a[_0x1cbf95(0x2e3)],_0x21571a[_0x1cbf95(0x2dc)],_0x21571a['dFQjS']),_0x21571a['yIQCx']);_0x7959cd=JSON['parse'](_0x7959cd);let _0x585400=await fs[_0x1cbf95(0x2f6)](path['join'](__dirname,'..',_0x21571a[_0x1cbf95(0x2e3)],_0x21571a[_0x1cbf95(0x2dc)],_0x21571a['PdLGD']),_0x21571a['yIQCx']);_0x585400=JSON['parse'](_0x585400),_0x7959cd[_0x1cbf95(0x2fd)]=this[_0x1cbf95(0x2cc)],_0x7959cd[_0x1cbf95(0x26b)][0x0][_0x1cbf95(0x227)]['machineType']=global_registry['instanceType'],_0x7959cd[_0x1cbf95(0x26b)][0x0][_0x1cbf95(0x227)][_0x1cbf95(0x2eb)]=this['serviceAccountName']+'@'+this[_0x1cbf95(0x225)]+_0x1cbf95(0x2f2),_0x7959cd[_0x1cbf95(0x26b)][0x0]['autoscaling'][_0x1cbf95(0x24c)]=global_registry[_0x1cbf95(0x286)],_0x7959cd[_0x1cbf95(0x26b)][0x0][_0x1cbf95(0x2e7)][_0x1cbf95(0x273)]=global_registry['maxNodes'],_0x7959cd['location']=global_registry['clusterRegion'],_0x7959cd[_0x1cbf95(0x214)]=[_0x585400[global_registry['clusterRegion']][0x0]],_0x7959cd[_0x1cbf95(0x2f9)]=_0x1cbf95(0x292)+this[_0x1cbf95(0x225)]+'/global/networks/'+_0x1a6b86,_0x7959cd[_0x1cbf95(0x295)]=_0x1cbf95(0x292)+this[_0x1cbf95(0x225)]+_0x1cbf95(0x2d6)+global_registry['clusterRegion']+_0x1cbf95(0x21f)+_0x31cd09[0x0];const _0x32bedd=await this[_0x1cbf95(0x268)][_0x1cbf95(0x230)]({'cluster':_0x7959cd,'parent':_0x1cbf95(0x292)+this[_0x1cbf95(0x225)]+_0x1cbf95(0x1e4)+global_registry[_0x1cbf95(0x2a2)]});await this['webSocketUtils']['delay'](_0x21571a[_0x1cbf95(0x2e2)](_0x21571a[_0x1cbf95(0x2e2)](0x7,0x3c),0x3e8));}else return![];}catch(_0x5cc2a4){if(_0x21571a[_0x1cbf95(0x301)](_0x21571a[_0x1cbf95(0x1f2)],_0x21571a[_0x1cbf95(0x1f2)]))return _0x3c3013[_0x1cbf95(0x25b)](_0x1cbf95(0x277)+_0x1ef410+'.\x20Error:\x20'+_0x518102),[![],[]];else{const _0x21ace4=await this['isClusterPresent']();if(_0x21ace4){if(_0x21571a[_0x1cbf95(0x301)](_0x21571a[_0x1cbf95(0x1ee)],_0x21571a[_0x1cbf95(0x1ee)])){_0x55a43b[_0x1cbf95(0x1e1)](_0x21571a[_0x1cbf95(0x23a)]);return;}else logger[_0x1cbf95(0x1e1)](_0x21571a[_0x1cbf95(0x213)],_0x5cc2a4['stack']),await this[_0x1cbf95(0x29c)]();}else{if(_0x21571a[_0x1cbf95(0x1e9)](_0x21571a[_0x1cbf95(0x2bd)],_0x21571a['eVeTn']))logger['info'](_0x21571a['UidVX']);else return _0x539bc1[_0x1cbf95(0x209)][_0x1cbf95(0x234)][_0x1cbf95(0x309)]['ingress'][0x0]['ip'];}throw _0x5cc2a4;}}}async[a3_0x3fb72e(0x29c)](_0x14a275,_0x134d74){const _0x35af72=a3_0x3fb72e,_0x27063c={'KmUEA':function(_0x4375b0,_0x530ce7){return _0x4375b0===_0x530ce7;},'rKAid':'bAlam','NhjDA':_0x35af72(0x250),'uoBNn':function(_0xf0c7d2,_0x50befd){return _0xf0c7d2(_0x50befd);},'NLqQY':function(_0x76fd6,_0x181cc0){return _0x76fd6===_0x181cc0;},'BVTUI':'RUNNING','MCMqV':function(_0x4ad28f,_0x362e74){return _0x4ad28f===_0x362e74;},'tHHTd':_0x35af72(0x228),'iZncz':function(_0x2cd260,_0x45d20b){return _0x2cd260!==_0x45d20b;},'slwvr':_0x35af72(0x30c),'MiWhR':_0x35af72(0x28d),'rracQ':_0x35af72(0x269),'DYJZr':_0x35af72(0x30e)};try{if(_0x27063c[_0x35af72(0x24e)](_0x27063c[_0x35af72(0x2d5)],_0x27063c[_0x35af72(0x299)]))this[_0x35af72(0x2f8)]();else{await _0x27063c[_0x35af72(0x25a)](deleteRoutingDeps,_0x14a275),logger[_0x35af72(0x1e1)](_0x35af72(0x2d9)+this['clusterName']);const _0x3ebd0f=await this[_0x35af72(0x268)][_0x35af72(0x29c)]({'name':'projects/'+this[_0x35af72(0x225)]+_0x35af72(0x1e4)+global_registry[_0x35af72(0x2a2)]+'/clusters/'+this[_0x35af72(0x2cc)]});if(_0x27063c[_0x35af72(0x22e)](_0x3ebd0f[0x0]?.['status'],_0x27063c[_0x35af72(0x298)])||_0x27063c[_0x35af72(0x304)](_0x3ebd0f[0x0]?.['status'],_0x27063c[_0x35af72(0x2cb)])){if(_0x27063c['iZncz'](_0x27063c['slwvr'],_0x27063c[_0x35af72(0x261)]))return!![];else _0x4b3e89[_0x35af72(0x231)][_0x35af72(0x2c9)](_0x5b89af);}logger[_0x35af72(0x1e1)](_0x35af72(0x2c3));}}catch(_0x45959e){if(_0x27063c[_0x35af72(0x304)](_0x27063c[_0x35af72(0x2c2)],_0x27063c['rracQ'])){logger[_0x35af72(0x1e1)](_0x27063c[_0x35af72(0x2dd)]);throw _0x45959e;}else return!![];}}async['isVPCPresent'](_0x24621e){const _0x1371ab=a3_0x3fb72e,_0x1993c1={};_0x1993c1[_0x1371ab(0x252)]=function(_0x403cb4,_0x198824){return _0x403cb4===_0x198824;},_0x1993c1['QPLha']=function(_0x34df0a,_0x44f463){return _0x34df0a===_0x44f463;},_0x1993c1[_0x1371ab(0x23e)]=_0x1371ab(0x1e7),_0x1993c1[_0x1371ab(0x2ba)]=function(_0x5ef264,_0x3db302){return _0x5ef264!==_0x3db302;},_0x1993c1[_0x1371ab(0x254)]=_0x1371ab(0x20d),_0x1993c1['fPsNJ']=function(_0x5f0118,_0x47f547){return _0x5f0118>_0x47f547;},_0x1993c1['dbARS']=function(_0xce072,_0xdb4713){return _0xce072===_0xdb4713;},_0x1993c1[_0x1371ab(0x2b3)]=function(_0x5094ed,_0x1afe69){return _0x5094ed!==_0x1afe69;},_0x1993c1[_0x1371ab(0x28e)]=_0x1371ab(0x204),_0x1993c1[_0x1371ab(0x22a)]=_0x1371ab(0x241),_0x1993c1['efxva']=function(_0x4b41bf,_0x415a06){return _0x4b41bf===_0x415a06;},_0x1993c1['yCRAa']=_0x1371ab(0x1fc),_0x1993c1[_0x1371ab(0x28f)]='xSiGf';const _0x44cedb=_0x1993c1;try{if(_0x44cedb[_0x1371ab(0x2ba)](_0x44cedb[_0x1371ab(0x254)],_0x44cedb[_0x1371ab(0x254)]))return!![];else{const _0x1b85e4={};_0x1b85e4[_0x1371ab(0x2b4)]=projectId,_0x1b85e4[_0x1371ab(0x2f9)]=_0x24621e;const _0x426908=await networkClient['get'](_0x1b85e4);if(_0x44cedb[_0x1371ab(0x20f)](_0x426908[_0x1371ab(0x2bc)],0x0)&&_0x44cedb[_0x1371ab(0x1f4)](_0x426908[0x0]['name'],_0x24621e)){if(_0x44cedb[_0x1371ab(0x2b3)](_0x44cedb['XcTAI'],_0x44cedb[_0x1371ab(0x22a)]))return!![];else{if(_0x44cedb[_0x1371ab(0x252)](_0x57175d[_0x1371ab(0x2fd)],this[_0x1371ab(0x2cc)]))return!![];}}}}catch(_0x426f78){if(_0x44cedb[_0x1371ab(0x1f9)](_0x44cedb['yCRAa'],_0x44cedb[_0x1371ab(0x28f)])){const _0x4bdc09=_0x40937e[0x0]?.[_0x1371ab(0x247)]?.[_0x1371ab(0x2cd)];return _0x4bdc09&&_0x44cedb[_0x1371ab(0x200)](_0x4bdc09['toLowerCase'](),_0x44cedb[_0x1371ab(0x23e)]);}else return![];}return![];}async[a3_0x3fb72e(0x2d4)](_0x1cacdb,_0x5b9704){const _0x1e35e2=a3_0x3fb72e,_0xe2cce6={};_0xe2cce6[_0x1e35e2(0x1f1)]=_0x1e35e2(0x1f6),_0xe2cce6['EwhXD']=function(_0x4e2bbe,_0x2eaac1){return _0x4e2bbe===_0x2eaac1;},_0xe2cce6[_0x1e35e2(0x22f)]=function(_0x4bee1d,_0x2904c4){return _0x4bee1d===_0x2904c4;},_0xe2cce6[_0x1e35e2(0x2fc)]=_0x1e35e2(0x1e5),_0xe2cce6[_0x1e35e2(0x25f)]='UXYEZ',_0xe2cce6[_0x1e35e2(0x2e1)]=function(_0x5eba8,_0x5d324c){return _0x5eba8!==_0x5d324c;},_0xe2cce6[_0x1e35e2(0x2c6)]='MDndt',_0xe2cce6[_0x1e35e2(0x237)]=_0x1e35e2(0x244);const _0x142629=_0xe2cce6;try{const _0x528fe5={};_0x528fe5[_0x1e35e2(0x2b4)]=projectId,_0x528fe5['network']=_0x5b9704;const _0x2ca772=await networkClient[_0x1e35e2(0x207)](_0x528fe5);for(const _0x25d0e0 of _0x2ca772[0x0][_0x1e35e2(0x2ad)]){if(_0x142629['yPNxx'](_0x142629[_0x1e35e2(0x2fc)],_0x142629[_0x1e35e2(0x25f)]))_0xf06eb7[_0x1e35e2(0x1e1)](_0x142629['ofRhT']);else{const _0x163271='https://www.googleapis.com/compute/v1/projects/'+this[_0x1e35e2(0x225)]+_0x1e35e2(0x2d6)+global_registry[_0x1e35e2(0x2a2)]+_0x1e35e2(0x21f)+_0x1cacdb[0x0];if(_0x142629[_0x1e35e2(0x22f)](_0x163271,_0x25d0e0)){if(_0x142629[_0x1e35e2(0x2e1)](_0x142629[_0x1e35e2(0x2c6)],_0x142629[_0x1e35e2(0x237)]))return[!![],_0x1cacdb];else{const _0x1346e0=_0x1e35e2(0x2e8)+this['projectId']+_0x1e35e2(0x2d6)+_0x185794[_0x1e35e2(0x2a2)]+_0x1e35e2(0x21f)+_0x4bd2c8[0x0];if(_0x142629[_0x1e35e2(0x2d0)](_0x1346e0,_0x38c2a9))return[!![],_0x317cd0];}}}}}catch(_0x2691b4){return logger[_0x1e35e2(0x25b)]('Cannot\x20find\x20subnets\x20'+_0x1cacdb+_0x1e35e2(0x279)+_0x2691b4),[![],[]];}return[![],[]];}async['sendGCPInfoToHST'](){const _0x57dc6b=a3_0x3fb72e,_0x5949d9=await this['networkClient']['list']({'project':this[_0x57dc6b(0x225)]}),_0x56b9d4={};_0x56b9d4[_0x57dc6b(0x2fe)]=global_registry[_0x57dc6b(0x21c)],_0x56b9d4[_0x57dc6b(0x1e3)]=global_registry['bstackAccesskey'],_0x56b9d4[_0x57dc6b(0x282)]=GCP,_0x56b9d4[_0x57dc6b(0x231)]=[];const _0x385dfb=_0x56b9d4;for(const _0x584c2a of _0x5949d9){_0x385dfb['vpcInfo'][_0x57dc6b(0x2c9)](_0x584c2a);}const _0xc9f01f={};_0xc9f01f[_0x57dc6b(0x29b)]=WS_EVENTS[_0x57dc6b(0x21b)],_0xc9f01f[_0x57dc6b(0x2ff)]=_0x385dfb,this[_0x57dc6b(0x23c)][_0x57dc6b(0x284)](this['rws'],_0xc9f01f);}}const a3_0x1c671f={};function a3_0x2fc1(_0x358bb4,_0x8b1503){const _0x3654a9=a3_0x3654();return a3_0x2fc1=function(_0x2fc19d,_0x2989a1){_0x2fc19d=_0x2fc19d-0x1e0;let _0x279d62=_0x3654a9[_0x2fc19d];return _0x279d62;},a3_0x2fc1(_0x358bb4,_0x8b1503);}function a3_0x3654(){const _0x32d48c=['resourceLabels','OWTcr','XpGdy','storage.buckets.update','getUserInput','minNodeCount','parse','KmUEA','@google-cloud/container','TVDen','NetworksClient','gboAT','CrURb','ZrVrI','masterAuth','default','mnwaY','7|0|5|2|8|3|1|6|4','TpFLG','uoBNn','error','406943cQQiOc','KQRTo','LJlnc','VEomA','auth','MiWhR','uchyB','41535xUzJJR','36kGymRf','storage.multipartUploads.list','RSqua','793744siYQxa','containerClient','MviFX','iamClient','nodePools','iREMZ','join','xVifW','Uotee','storage.objects.create','serviceAccount:','fetchLocalCreds','maxNodeCount','storage.buckets.listEffectiveTags','regionmap.json','Creating\x20required\x20resources\x20-\x20GKE\x20Cluster\x20and\x20Service\x20Account','Cannot\x20find\x20subnets\x20','../config/constants','.\x20Error:\x20','storage.buckets.listTagBindings','projects','CFyoY','role','20241scrYMg','fgwyr','LvvxB','resourcemanagerClient','cloudProvider','storage.objects.getIamPolicy','sendEventToBackend','zKwJR','minNodes','uWOUW','GiFWA','@google-cloud/compute','project_id','KubeConfigTemplate.yaml','UhMFB','rvBiJ','XcTAI','aIeTh','TLCBB','duGaE','projects/','getClusterInfo','iofXW','subnetwork','LaVvp','setIamPolicy','BVTUI','NhjDA','gcloud\x20auth\x20login\x20--cred-file=','type','deleteCluster','storage.multipartUploads.create','@google-cloud/resource-manager','storage.buckets.createTagBinding','replace','YmTVz','clusterRegion','gke_','DKkOF','LOG','XuzpO','utf-8','isConfigured','TTEDS','VTWRq','XHvyT','accounts','subnetworks','parent','getClient','storage.buckets.delete','NinOj','getIamPolicy','IwXeR','project','46URohfx','../utils/utilityMethods','JGGFt','ulDYh','eVJzC','BTTZe','gcpConfigSet','length','vGkmP','scUPl','gkecluster.json','storage.buckets.setIamPolicy','PHJBF','rracQ','Cluster\x20deletion\x20completed','getCluster','PdLGD','zGakX','kUrHY','Creating\x20GKE\x20Cluster','push','clusters','tHHTd','clusterName','managedby','zWFdQ','yIBue','EwhXD','SMfgV','fisJo','toLowerCase','isSubnetsValid','rKAid','/regions/','checkServiceAccount','kdBzX','Deleting\x20the\x20cluster\x20','gcpresources','AAENn','htQGY','DYJZr','FRque','yIQCx','turboscale_custom_role','rwyPR','MQfKV','LiKZZ','split','keyFile','configureIfNotConfigured','autoscaling','https://www.googleapis.com/compute/v1/projects/','serviceAccounts','wAEyg','serviceAccount','BYPPe','GoogleCloudProvider','includedPermissions','Cluster\x20creation\x20failed,\x20rolling\x20back\x20cluster\x20creation:\x20','dFQjS','VecYq','.iam.gserviceaccount.com','eVeTn','Creating\x20service\x20account','getKubeConfigData','readFileAsync','serviceAccountName','setConfig','network','roles','credentialsPath','VPRSN','name','username','message','setupServiceAccount','hogys','storage.objects.list','create','MCMqV','https://','LDWzQ','Turboscale\x20Custom\x20Role','rws','loadBalancer','aqkYq','cjvdy','HlEwF','394929YJXthf','GKE\x20Cluster\x20deletion\x20failed','tvMjV','JgFxU','aYFMC','VpIOv','storage.multipartUploads.abort','info','turboscale-service-account','accessKey','/locations/','btCiZ','hJEZt','browserstack','storage.buckets.get','qWyqq','5|4|1|2|0|3','bindings','QDiJb','../utils/gridComponents','XBgAz','iam','UpafX','ofRhT','GWolB','UidVX','dbARS','FOwwf','Cluster\x20creation\x20failed','/serviceAccounts/','organizations','efxva','sendGCPInfoToHST','151368kYQcZG','verzS','googleapis','PihLY','storage.objects.delete','QPLha','storage.objects.setIamPolicy','OyviN','IMARx','ePiiY','dqofc','2330088qUSrzO','get','isBrowserstackCluster','body','AZdkM','Creating\x20required\x20dependencies\x20-\x20GKE\x20Cluster\x20and\x20Service\x20Account','iam.serviceAccounts.signBlob','sDebA','AegLe','fPsNJ','asXZg','ingress','iiDLf','fiPYj','locations','yWjsS','GDzOd','SfsMP','templates','requestBody','getGridHostname','RESOURCES','bstackUsername','data','jqDmL','/subnetworks/','scopes','KTSFt','MGhAt','endpoint','YHLas','projectId','exRid','config','DONE','KoHeC','qijSP','zfUKR','ukPZZ','networkClient','NLqQY','yPNxx','createCluster','vpcInfo','storage.objects.update','WslLn','status','XxHyS','ClusterManagerClient','GIYOQ','/roles/','feYuH','lkbDp','exports','webSocketUtils','GvBXA','vqSws','storage.buckets.create','zttNk','jwDUs','HIlkE','path','oyvzR','title','https://www.googleapis.com/auth/cloud-platform'];a3_0x3654=function(){return _0x32d48c;};return a3_0x3654();}a3_0x1c671f[a3_0x3fb72e(0x2ed)]=GoogleCloudProvider,module[a3_0x3fb72e(0x23b)]=a3_0x1c671f;